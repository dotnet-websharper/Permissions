import { Start as fH } from "./WebSharper.Core.JavaScript/Runtime.js"
import { Lazy as fI, MarkResizable as fJ, SetOptional as fK, GetOptional as fL, CreateFuncWithArgs as fM, DeleteEmptyFields as fN, Create as fO, OnLoad as fP } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(fQ){ return"Dispose"in fQ;}
function b(){ const fQ=d.Create_1("");const fR=globalThis.navigator.permissions;const fS=fQ.View;const fT=new m("New_1");const fU=(fT.h.push(n(fT.k, "checkgeolocationpermission", () => fT.i, () => { const f1=null;u0039(u0036(() => { const f2="geolocation";let f3=(fR.query({name:f2}).then((f5) => fQ.Set(String(f2)+" permission: "+String(f5.state))))["catch"](() => fQ.Set("Permission "+String(f2)+" not supported"));let f4=bg(f3);return u0037(f4, () => u0038(null));}), null);})),fT);const fV=(fU.h.push(n(fU.k, "requestgeolocation", () => fU.i, () => { globalThis.navigator.geolocation.getCurrentPosition((f1) => fQ.Set("Latitude: "+String(f1.coords.latitude)+", Longitude: "+String(f1.coords.longitude)), (f1) => fQ.Set("Geolocation error: "+String(f1.message)));})),fU);const fW=(fV.h.push(new u0032("status", fS)),fV);const fX=o(fW.k, fW.h, []);const fY=new h(fX[1], B(fX[0]));let fZ=(fW.i=fY,fY);const f0=fZ.Doc;bj("");bB.RunById("main", f0);}
class c { Equals(fQ){ return this===fQ;} GetHashCode(){ return -1;} }
let d=fI((fQ) => class fR extends c { static { d=fQ(this);} static Create_1(fS){ return new D(false, {s:bF(fS, [])}, fS);} static { } });
function e(fQ){ throw new Error(fQ);}
function f(fQ){ return[fQ.K, fQ.V];}
function g(fQ, fR){ const fS=1+fR-fQ;return fS<=0?[]:bY(fS, (fT) => fT+fQ);}
class h extends c { doc;allVars;anchorRoot;get Doc(){ return this.doc;} SetAnchorRoot(fQ){ this.anchorRoot=fQ;} constructor(fQ, fR){ super();this.doc=fR;this.allVars=fQ.$==0?fQ.$0:e("Should not happen");this.anchorRoot=null;} }
function i(fQ, fR){ k(fQ, fR);return fQ[fR];}
function j(fQ, fR, fS){ k(fQ, fR);fQ[fR]=fS;}
function k(fQ, fR){ if(fR<0||fR>=fQ.length)e("Index was outside the bounds of the array.");}
function l(fQ){ return fQ.dims===2?fQ.length*fQ.length:fQ.length;}
class m extends c { i;k;h;s;static New_1(){ return new this("New_1");} constructor(fQ){ if(fQ=="New_1"){ let fR;super();this.i=null;this.k=(fR=u0033(),String(fR));this.h=fJ([]);fK(this, "s", null);} } }
function n(fQ, fR, fS, fT){ return new u0034(fR, (fU) =>(fV) => { const fW=fS();fW.SetAnchorRoot(fU);return fT({Vars:fW, Anchors:fW, Target:fU, Event:fV});});}
function o(fQ, fR, fS){ const fT=new bI("New_5");const fU=new bO("New_3");const fV=cA(fR);try { while(fV.MoveNext()){ const fW=fV.Current;const fX=fW.Name;fU.SAdd(fX);fT.set_Item(fX, fW);} } finally { if(typeof fV=="object"&&a(fV))fV.Dispose();} return[bP(fR, b4((fY) => { const fZ=fY[0];const f0=fY[1];const f1=fY[2];if(fU.Contains(fZ))return null;else { const f2=f0===0?ch.GetOrAddHoleFor(fQ, fZ, () => { const f3=f1==null?null:bi(f1.$0);let f4=d.Create_1(f3==null?"":f3.$0);return new ci(fZ, f4);}):f0===1?ch.GetOrAddHoleFor(fQ, fZ, () => { const f3=f1==null?null:bi(f1.$0);let f4=d.Create_1(f3==null?0:f3.$0);return new cj(fZ, f4);}):f0===2?ch.GetOrAddHoleFor(fQ, fZ, () => { const f3=f1==null?null:bi(f1.$0);let f4=d.Create_1(f3==null?false:f3.$0);return new ck(fZ, f4);}):f0===3?ch.GetOrAddHoleFor(fQ, fZ, () => { const f3=f1==null?null:bi(f1.$0);let f4=d.Create_1(f3==null?-8640000000000000:f3.$0);return new cl(fZ, f4);}):f0===4?ch.GetOrAddHoleFor(fQ, fZ, () => new cm(fZ, d.Create_1([]))):f0===5?ch.GetOrAddHoleFor(fQ, fZ, () => new cn(fZ, d.Create_1(bi(globalThis.document.querySelector("[ws-dom="+fZ+"]"))))):f0===6?ch.GetOrAddHoleFor(fQ, fZ, () => { const f3=f1==null?null:bi(f1.$0);let f4=d.Create_1(f3==null?[]:f3.$0);return new co(fZ, f4);}):e("Invalid value type");fT.set_Item(fZ, f2);return bi(f2);} }, fS)), {$:0, $0:fT}];}
class p extends c { }
function q(fQ, fR){ if(fQ===fR)return true;else { const fS=typeof fQ;if(fS=="object"){ if(fQ===null||fQ===void 0||fR===null||fR===void 0||!q(typeof fR, "object"))return false;else if("Equals"in fQ)return fQ.Equals(fR);else if("Equals"in fR)return false;else if(fQ instanceof Array&&fR instanceof Array)return r(fQ, fR);else if(fQ instanceof Date&&fR instanceof Date)return s(fQ, fR);else { const fT=[true];let fU;for(var fW in fQ)if(((fX) => { fT[0]=!fQ.hasOwnProperty(fX)||fR.hasOwnProperty(fX)&&q(fQ[fX], fR[fX]);return!fT[0];})(fW))break;if(fT[0]){ let fV;for(var fX in fR)if(((fY) => { fT[0]=!fR.hasOwnProperty(fY)||fQ.hasOwnProperty(fY);return!fT[0];})(fX))break;} return fT[0];} } else return fS=="function"&&("$Func"in fQ?fQ.$Func===fR.$Func&&fQ.$Target===fR.$Target:"$Invokes"in fQ&&"$Invokes"in fR&&r(fQ.$Invokes, fR.$Invokes));} }
function r(fQ, fR){ let fS;let fT;if(l(fQ)===l(fR)){ fS=true;fT=0;while(fS&&fT<l(fQ)){!q(i(fQ, fT), i(fR, fT))?fS=false:void 0;fT=fT+1;} return fS;} else return false;}
function s(fQ, fR){ return fQ.getTime()===fR.getTime();}
function t(fQ){ const fR=typeof fQ;return fR=="function"?0:fR=="boolean"?fQ?1:0:fR=="number"?fQ:fR=="string"?u(fQ):fR=="object"?fQ==null?0:fQ instanceof Array?v(fQ):w(fQ):0;}
function u(fQ){ let fR;if(fQ===null)return 0;else { fR=5381;for(let fS=0, fT=fQ.length-1;fS<=fT;fS++)fR=x(fR, fQ[fS].charCodeAt());return fR;} }
function v(fQ){ let fR=-34948909;for(let fS=0, fT=l(fQ)-1;fS<=fT;fS++)fR=x(fR, t(i(fQ, fS)));return fR;}
function w(fQ){ if("GetHashCode"in fQ)return fQ.GetHashCode();else { const fR=[0];let fS;for(var fT in fQ)if(((fU) => { fR[0]=x(x(fR[0], u(fU)), t(fQ[fU]));return false;})(fT))break;return fR[0];} }
function x(fQ, fR){ return(fQ<<5)+fQ+fR;}
function y(fQ, fR){ if(fQ===fR)return 0;else { const fS=typeof fQ;switch(fS=="function"?1:fS=="boolean"?2:fS=="number"?2:fS=="string"?2:fS=="object"?3:0){ case 0:return typeof fR=="undefined"?0:-1;case 1:return e("Cannot compare function values.");case 2:return fQ<fR?-1:1;case 3:if(fQ===null)return -1;else if(fR===null)return 1;else if("CompareTo"in fQ)return fQ.CompareTo(fR);else if("CompareTo0"in fQ)return fQ.CompareTo0(fR);else if(fQ instanceof Array&&fR instanceof Array)return z(fQ, fR);else if(fQ instanceof Date&&fR instanceof Date)return A(fQ, fR);else { const fT=[0];let fU;for(var fW in fQ)if(((fX) =>!fQ.hasOwnProperty(fX)?false:!fR.hasOwnProperty(fX)?(fT[0]=1,true):(fT[0]=y(fQ[fX], fR[fX]),fT[0]!==0))(fW))break;if(fT[0]===0){ let fV;for(var fX in fR)if(((fY) =>!fR.hasOwnProperty(fY)?false:!fQ.hasOwnProperty(fY)&&(fT[0]=-1,true))(fX))break;} return fT[0];} break;} } }
function z(fQ, fR){ let fS;let fT;if(l(fQ)<l(fR))return -1;else if(l(fQ)>l(fR))return 1;else { fS=0;fT=0;while(fS===0&&fT<l(fQ)){ fS=y(i(fQ, fT), i(fR, fT));fT=fT+1;} return fS;} }
function A(fQ, fR){ return y(fQ.getTime(), fR.getTime());}
function B(fQ){ bj("index");return fQ?bk("index", bi("main"), fQ):void 0;}
function C(fQ){ let fR=[];let fS;for(var fT in fQ)fR.push(fQ[fT]);return fR;}
class D extends p { isConst;current;snap;view;id;get View(){ return this.view;} Set(fQ){ if(this.isConst)(((fR) => fR("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fR) => { console.log(fR);}));else { cq(this.snap);this.current=fQ;this.snap={s:bF(fQ, [])};} } SetFinal(fQ){ if(this.isConst)(((fR) => fR("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fR) => { console.log(fR);}));else { cq(this.snap);this.isConst=true;this.current=fQ;this.snap={s:bG(fQ)};} } Get(){ return this.current;} UpdateMaybe(fQ){ const fR=fQ(this.Get());if(fR!=null&&fR.$==1)this.Set(fR.$0);} constructor(fQ, fR, fS){ super();this.isConst=fQ;this.current=fS;this.snap=fR;this.view=() => this.snap;this.id=bC();} }
function E(fQ, fR, fS){ const fT=fQ.s;if(fT==null)fS();else fT!=null&&fT.$==2?(fT.$1.push(fS),fR(fT.$0)):fT!=null&&fT.$==3?(fT.$0.push(fR),fT.$1.push(fS)):fR(fT.$0);}
function F(fQ, fR){ const fS=fR.s;if(fS!=null&&fS.$==0)return{s:bG(fQ(fS.$0))};else { const fT={s:bH([], [])};M(fR, (fU) => { N(fT, fR, fQ(fU));}, fT);return fT;} }
function G(fQ, fR, fS, fT){ const fU=fR.s;const fV=fS.s;const fW=fT.s;if(fU!=null&&fU.$==0)return fV!=null&&fV.$==0?fW!=null&&fW.$==0?{s:bG(fQ(fU.$0, fV.$0, fW.$0))}:O(fQ, fU.$0, fV.$0, fT):fW!=null&&fW.$==0?P(fQ, fU.$0, fW.$0, fS):Q(fQ, fU.$0, fS, fT);else if(fV!=null&&fV.$==0)return fW!=null&&fW.$==0?R(fQ, fV.$0, fW.$0, fR):S(fQ, fV.$0, fR, fT);else if(fW!=null&&fW.$==0)return T(fQ, fW.$0, fR, fS);else { const fX={s:bH([], [])};const fY=() => { const fZ=fX.s;if(!(fZ!=null&&fZ.$==0||fZ!=null&&fZ.$==2)){ const f0=U(fR);const f1=U(fS);const f2=U(fT);if(f0!=null&&f0.$==1)if(f1!=null&&f1.$==1)if(f2!=null&&f2.$==1)if(f0.$0[1]&&f1.$0[1]&&f2.$0[1])V(fX, fQ(f0.$0[0], f1.$0[0], f2.$0[0]));else W(fX, fQ(f0.$0[0], f1.$0[0], f2.$0[0]));} };M(fR, fY, fX);M(fS, fY, fX);M(fT, fY, fX);return fX;} }
function H(fQ){ const fR=cb(fQ);if(fR.length==0)return{s:bG([])};else { const fS={s:bH([], [])};const fT=[l(fR)-1];const fU=() => { if(fT[0]===0){ const fV=b$((fW) => { const fX=fW.s;return fX!=null&&fX.$==0?fX.$0:fX!=null&&fX.$==2?fX.$0:e("value not found by View.Sequence");}, fR);if(ce((fW) => { const fX=fW.s;return fX!=null&&fX.$==0;}, fR))V(fS, fV);else W(fS, fV);} else fT[0]=fT[0]-1;};b9((fV) => { M(fV, fU, fS);}, fR);return fS;} }
function I(fQ, fR, fS){ const fT=fR.s;const fU=fS.s;if(fT!=null&&fT.$==0)return fU!=null&&fU.$==0?{s:bG(fQ(fT.$0, fU.$0))}:X(fQ, fT.$0, fS);else if(fU!=null&&fU.$==0)return Y(fQ, fU.$0, fR);else { const fV={s:bH([], [])};const fW=() => { const fX=fV.s;if(!(fX!=null&&fX.$==0||fX!=null&&fX.$==2)){ const fY=U(fR);const fZ=U(fS);if(fY!=null&&fY.$==1)if(fZ!=null&&fZ.$==1)if(fY.$0[1]&&fZ.$0[1])V(fV, fQ(fY.$0[0], fZ.$0[0]));else W(fV, fQ(fY.$0[0], fZ.$0[0]));} };M(fR, fW, fV);M(fS, fW, fV);return fV;} }
function J(fQ, fR){ const fS=fQ.s;const fT=fR.s;if(fS!=null&&fS.$==0)return fT!=null&&fT.$==0?{s:bG(null)}:fR;else if(fT!=null&&fT.$==0)return fQ;else { const fU={s:bH([], [])};const fV=() => { const fW=fU.s;if(!(fW!=null&&fW.$==0||fW!=null&&fW.$==2)){ const fX=U(fQ);const fY=U(fR);if(fX!=null&&fX.$==1)if(fY!=null&&fY.$==1)if(fX.$0[1]&&fY.$0[1])V(fU, null);else W(fU, null);} };M(fQ, fV, fU);M(fR, fV, fU);return fU;} }
function K(fQ){ const fR=fQ.s;if(fR==null)return fQ;else if(fR!=null&&fR.$==2){ const fS={s:bF(fR.$0, [])};Z(fQ, fS);return fS;} else if(fR!=null&&fR.$==3){ const fT={s:bH([], [])};M(fQ, (fU) => { N(fT, fQ, fU);}, fT);return fT;} else return fQ;}
function L(fQ, fR){ const fS=fQ.s;if(fS==null)fR();else fS!=null&&fS.$==2?fS.$1.push(fR):fS!=null&&fS.$==3?fS.$1.push(fR):void 0;}
function M(fQ, fR, fS){ const fT=fQ.s;if(fT==null)cq(fS);else fT!=null&&fT.$==2?(u0030(fT.$1, fS),fR(fT.$0)):fT!=null&&fT.$==3?(fT.$0.push(fR),u0030(fT.$1, fS)):fR(fT.$0);}
function N(fQ, fR, fS){ const fT=fR.s;if(fT!=null&&fT.$==0)V(fQ, fS);else W(fQ, fS);}
function O(fQ, fR, fS, fT){ return F((fU) => fQ(fR, fS, fU), fT);}
function P(fQ, fR, fS, fT){ return F((fU) => fQ(fR, fU, fS), fT);}
function Q(fQ, fR, fS, fT){ return I((fU, fV) => fQ(fR, fU, fV), fS, fT);}
function R(fQ, fR, fS, fT){ return F((fU) => fQ(fU, fR, fS), fT);}
function S(fQ, fR, fS, fT){ return I((fU, fV) => fQ(fU, fR, fV), fS, fT);}
function T(fQ, fR, fS, fT){ return I((fU, fV) => fQ(fU, fV, fR), fS, fT);}
function U(fQ){ const fR=fQ.s;return fR!=null&&fR.$==0?bi([fR.$0, true]):fR!=null&&fR.$==2?bi([fR.$0, false]):null;}
function V(fQ, fR){ const fS=fQ.s;if(fS!=null&&fS.$==3){ fQ.s=bG(fR);const fT=fS.$0;for(let fU=0, fV=l(fT)-1;fU<=fV;fU++)(i(fT, fU))(fR);} else void 0;}
function W(fQ, fR){ const fS=fQ.s;if(fS!=null&&fS.$==3){ fQ.s=bF(fR, fS.$1);const fT=fS.$0;for(let fU=0, fV=l(fT)-1;fU<=fV;fU++)(i(fT, fU))(fR);} else void 0;}
function X(fQ, fR, fS){ return F((fT) => fQ(fR, fT), fS);}
function Y(fQ, fR, fS){ return F((fT) => fQ(fT, fR), fS);}
function Z(fQ, fR){ const fS=fQ.s;if(fS==null)cq(fR);else fS!=null&&fS.$==2?u0030(fS.$1, fR):fS!=null&&fS.$==3?u0030(fS.$1, fR):void 0;}
function u0030(fQ, fR){ fQ.push(fR);if(fQ.length%20===0){ const fS=fQ.slice(0);fF(fQ);for(let fU=0, fV=l(fS)-1;fU<=fV;fU++){ const fT=i(fS, fU);if(typeof fT=="object")(((fW) => { if(fW.s)fQ.push(fW);})(fT));else(((fW) => { fQ.push(fW);})(fT));} } else void 0;}
class u0031 extends c { ForTextView(){ console.warn("Content hole filled with attribute data", this.Name);return null;} AddAttribute(fQ, fR){ console.warn("Var hole filled with non-Var data", this.Name);} get AsChoiceView(){ console.warn("Attribute value hole filled with non-text data", this.Name);return eg("");} }
class u0032 extends u0031 { name;fillWith;get Name(){ return this.name;} ForTextView(){ return bi(this.fillWith);} get AsChoiceView(){ return eh(this.fillWith);} constructor(fQ, fR){ super();this.name=fQ;this.fillWith=fR;} }
function u0033(){ return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]", "g"), (fQ) => { const fR=Math.random()*16|0;const fS=fQ=="x"?fR:fR&3|8;return fS.toString(16);});}
class u0034 extends u0031 { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fQ, fR){ super();this.name=fQ;this.fillWith=fR;} }
function u0035(fQ){ const fR={};const fS=cA(fQ);try { while(fS.MoveNext()){ const fT=fS.Current;fR[fT[0]]=fT[1];} } finally { if(typeof fS=="object"&&a(fS))fS.Dispose();} return fR;}
function u0036(fQ){ return(fR) => { try {(fQ())(fR);} catch(fS){ fR.k(bK(fS));} };}
function u0037(fQ, fR){ return $((fS) => { fQ(bJ((fT) => { if(fT.$==0){ const fU=fT.$0;bd().Fork(() => { try {(fR(fU))(fS);} catch(fV){ fS.k(bK(fV));} });} else bd().Fork(() => { fS.k(fT);});}, fS.ct));});}
function u0038(fQ){ return(fR) => { fR.k(bL(fQ));};}
function u0039(fQ, fR){ const fS=(ba())[0];const fT=fR==null?fS:fR.$0;bd().Fork(() => { if(!fT.c)fQ(bJ((fU) => { if(fU.$==1)bb(fU.$0);}, fT));});}
function $(fQ){ return(fR) => { if(fR.ct.c)bc(fR);else fQ(fR);};}
function ba(){ return cy.defCTS;}
function bb(fQ){ console.log("WebSharper: Uncaught asynchronous exception", fQ);}
function bc(fQ){ fQ.k(bM(new c2("New", fQ.ct)));}
function bd(){ return cy.scheduler;}
function be(fQ){ return(fR) => { const fS=[false];const fT=(fU) => { if(fS[0])e("A continuation provided by Async.FromContinuations was invoked multiple times");else { fS[0]=true;bd().Fork(fU);} };fQ((fU) => { fT(() => { fR.k(bL(fU));});}, (fU) => { fT(() => { fR.k(bK(fU));});}, (fU) => { fT(() => { fR.k(bM(fU));});});};}
function bf(){ return cy.Zero;}
function bg(fQ){ return be((fR, fS) => { fQ.then(fR, (fT) => fS(bh(fT)));});}
function bh(fQ){ return fQ instanceof Error?fQ:new cx(fQ);}
function bi(fQ){ return{$:1, $0:fQ};}
function bj(fQ){!bl()?(bm(true),bn(globalThis.document.body, "")):void 0;bo().set_Item(fQ, bp(""));}
function bk(fQ, fR, fS){ let fT;const fU=(fT=null,[bp(fQ).TryGetValue(fR==null?"":fR.$0, {get:() => fT, set:(fV) => { fT=fV;}}), fT]);return fU[0]?bq(fU[1].cloneNode(true), fS):(console.warn("Local template doesn't exist", fR),bB.Empty);}
function bl(){ return cF.LocalTemplatesLoaded;}
function bm(fQ){ cF.LocalTemplatesLoaded=fQ;}
function bn(fQ, fR){ const fS=bp(fR);const fT=new bI("New_5");const fU=fQ.querySelectorAll("[ws-template]");for(let f6=0, f7=fU.length-1;f6<=f7;f6++){ const fV=fU[f6];const fW=fV.getAttribute("ws-template").toLowerCase();fV.removeAttribute("ws-template");fT.set_Item(fW, br(fV));} const fX=fQ.querySelectorAll("[ws-children-template]");for(let f8=0, f9=fX.length-1;f8<=f9;f8++){ const fY=fX[f8];const fZ=fY.getAttribute("ws-children-template").toLowerCase();fY.removeAttribute("ws-children-template");fT.set_Item(fZ, bs(fY));} const f0=fQ.querySelectorAll("template[id]");for(let f_=0, f$=f0.length-1;f_<=f$;f_++){ const f1=f0[f_];fT.set_Item(f1.getAttribute("id").toLowerCase(), bt(f1));} const f2=fQ.querySelectorAll("template[name]");for(let ga=0, gb=f2.length-1;ga<=gb;ga++){ const f3=f2[ga];fT.set_Item(f3.getAttribute("name").toLowerCase(), bt(f3));} const f4=new bO("New_3");function f5(gc){ if(!fS.ContainsKey(gc)){ let gd;const ge=(gd=null,[fT.TryGetValue(gc, {get:() => gd, set:(gf) => { gd=gf;}}), gd]);if(ge[0]){ f4.SAdd(gc);fT.RemoveKey(gc);bu(fR, bi(gc), ge[1], bi(f5));} else console.warn(f4.Contains(gc)?"Encountered loop when instantiating "+gc:"Local template does not exist: "+gc);} } while(fT.count>0)f5(bQ(fT.Keys));}
function bo(){ return cF.LoadedTemplates;}
function bp(fQ){ let fR;const fS=(fR=null,[bo().TryGetValue(fQ, {get:() => fR, set:(fU) => { fR=fU;}}), fR]);if(fS[0])return fS[1];else { const fT=new bI("New_5");bo().set_Item(fQ, fT);return fT;} }
function bq(fQ, fR){ let fS;const fT=bv(fQ, bP(fR, bw().Values));const fU=fT[1];const fV=fT[0];const fW=fV.Els;return!q(fW, null)&&fW.length===1&&(i(fW, 0)instanceof Node&&(q(i(fW, 0).nodeType, Node.ELEMENT_NODE)&&(fS=i(fW, 0),true)))?c4.TreeNode(fV, fU):bB.Mk(ct(fV), fU);}
function br(fQ){ fQ.removeAttribute("ws-template");const fR=fQ.getAttribute("ws-replace");if(fR==null){ } else { fQ.removeAttribute("ws-replace");const fS=fQ.parentNode;if(q(fS, null)){ } else { const fT=globalThis.document.createElement(fQ.tagName);fT.setAttribute("ws-replace", fR);fS.replaceChild(fT, fQ);} } const fU=globalThis.document.createElement("div");fU.appendChild(fQ);return fU;}
function bs(fQ){ const fR=globalThis.document.createElement("div");while(fQ.hasChildNodes())fR.appendChild(fQ.firstChild);return fR;}
function bt(fQ){ const fR=globalThis.document.createElement("div");const fS=fQ.content;for(let fT=0, fU=fS.childNodes.length-1;fT<=fU;fT++)fR.appendChild(fS.childNodes[fT].cloneNode(true));return fR;}
function bu(fQ, fR, fS, fT){ const fU=new bO("New_3");function fV(f2, f3){ while(true)switch(f2){ case 0:if(f3!==null){ const f4=f3.nextSibling;if(q(f3.nodeType, Node.TEXT_NODE))db(f3);else if(q(f3.nodeType, Node.ELEMENT_NODE))fX(f3);f3=f4;} else return null;break;case 1:const f5=dj(f3.nodeName, bi(3), null).toLowerCase();const f6=f5.indexOf(".");const f7=f6===-1?[fQ, f5]:[dj(f5, null, bi(f6-1)), dj(f5, bi(f6+1), null)];const f8=f7[1];const f9=f7[0];if(f9!=""&&!bo().ContainsKey(f9))return dc(f8);else { if(f9==""&&fT!=null)fT.$0(f8);const f_=bo().Item(f9);if(!f_.ContainsKey(f8))return dc(f8);else { const f$=f_.Item(f8);const ga=f$.cloneNode(true);const gb=new bO("New_3");const gc=new bI("New_5");const gd=f3.attributes;for(let gn=0, go=gd.length-1;gn<=go;gn++){ const ge=gd.item(gn).name.toLowerCase();const gf=gd.item(gn).nodeValue;let gg=gf==""?ge:gf.toLowerCase();gc.set_Item(ge, gg);if(!gb.SAdd(ge))console.warn("Hole mapped twice", ge);} for(let gp=0, gq=f3.childNodes.length-1;gp<=gq;gp++){ const gh=f3.childNodes[gp];if(q(gh.nodeType, Node.ELEMENT_NODE))if(!gb.SAdd(gh.nodeName.toLowerCase()))console.warn("Hole filled twice", f8);} const gi=f3.childNodes.length===1&&q(f3.firstChild.nodeType, Node.TEXT_NODE);if(gi){ const gj=dd(ga, f3.firstChild.textContent, f8);const gk=((gr) =>(gs) => gr.SAdd(gs))(gb);let gl=((gr) =>(gs) => { if(gs!=null)gr(gs.$0);})((gr) => { gk(gr);});gl(gj);} de(ga, gb);if(!gi){ for(let gr=0, gs=f3.childNodes.length-1;gr<=gs;gr++){ const gm=f3.childNodes[gr];if(q(gm.nodeType, Node.ELEMENT_NODE))if(gm.hasAttributes())df(ga, gm);else fW(ga, gm);} } dg(ga, gc);dh(ga, f3.parentNode, f3);f3.parentNode.removeChild(f3);return;} } break;} } function fW(f2, f3){ const f4=f3.nodeName.toLowerCase();const f5=(f9, f_) => { if(f4=="title"&&f3.hasChildNodes()){ const f$=dk(f3.textContent);f3.removeChild(f3.firstChild);while(f$.hasChildNodes())f3.appendChild(f$.firstChild);} fX(f3);return dh(f3, f9, f_);};bx(f2, "[ws-attr-holes]", (f9) => { const f_=ek(f9.getAttribute("ws-attr-holes"), [" "], 1);for(let gc=0, gd=f_.length-1;gc<=gd;gc++){ const f$=i(f_, gc);let ga=new RegExp("\\${"+f4+"}", "ig");let gb=f9.getAttribute(f$).replace(ga, f3.textContent);f9.setAttribute(f$, gb);} });const f6=f2.querySelector("[ws-hole="+f4+"]");if(q(f6, null)){ const f7=f2.querySelector("[ws-replace="+f4+"]");if(q(f7, null)){ const f8=f2.querySelector("slot[name="+f4+"]");return f2.tagName.toLowerCase()=="template"?(f5(f8.parentNode, f8),void f8.parentNode.removeChild(f8)):null;} else { f5(f7.parentNode, f7);f7.parentNode.removeChild(f7);return;} } else { while(f6.hasChildNodes())f6.removeChild(f6.lastChild);f6.removeAttribute("ws-hole");return f5(f6, null);} } function fX(f2){ if(!f2.hasAttribute("ws-preserve"))if(el(f2.nodeName.toLowerCase(), "ws-"))fZ(f2);else { di(f2);fY(f2.firstChild);} } function fY(f2){ return fV(0, f2);} function fZ(f2){ return fV(1, f2);} function f0(f2){ while(true){ const f3=f2.querySelector("[ws-template]");if(q(f3, null)){ const f4=f2.querySelector("[ws-children-template]");if(q(f4, null)){ const f5=f2.querySelectorAll("template[id]");for(let f$=1, ga=f5.length-1;f$<=ga;f$++){ const f6=f5[f$];if(fU.Contains(f6)){ } else { bu(fQ, bi(f6.getAttribute("id")), f6, null);fU.SAdd(f6);} } const f7=f2.querySelectorAll("template[name]");for(let gb=1, gc=f7.length-1;gb<=gc;gb++){ const f8=f7[gb];if(fU.Contains(f8)){ } else { bu(fQ, bi(f8.getAttribute("name")), f8, null);fU.SAdd(f8);} } return null;} else { const f9=f4.getAttribute("ws-children-template");f4.removeAttribute("ws-children-template");bu(fQ, bi(f9), f4, null);f2=f2;} } else { const f_=f3.getAttribute("ws-template");(by(fQ, bi(f_), f3))(null);f2=f2;} } } const f1=(fR==null?"":fR.$0).toLowerCase();bp(fQ).set_Item(f1, fS);if(fS.hasChildNodes()){ f0(fS);fY(fS.firstChild);} }
function bv(fQ, fR){ let fS;const fT=[];const fU=[];const fV=[];const fW=[];const fX=new bI("New_5");const fY=cA(fR);try { while(fY.MoveNext()){ const fZ=fY.Current;fX.set_Item(fZ.Name, fZ);} } finally { if(typeof fY=="object"&&a(fY))fY.Dispose();} let f0=dl(fQ);const f1=(f_, f$) => { const ga=dJ(f_, f$);fU.push(dK(ga));fV.push([f_, ga]);const gb=fL(ga.OnAfterRender);if(gb==null)return null;else { const gc=gb.$0;fW.push(() => { gc(f_);});return;} };const f2=(f_) => { let f$;const ga=(f$=null,[fX.TryGetValue(f_, {get:() => f$, set:(gd) => { f$=gd;}}), f$]);if(ga[0]){ const gb=ga[1];if(gb instanceof d0)return bi(gb.Value);else if(gb instanceof d1)return bi(bB.TextNode(gb.Value));else { const gc=gb.ForTextView();return gc==null?null:bi(bB.TextView(gc.$0));} } else return null;};bx(fQ, "[ws-hole]", (f_) => { const f$=f_.getAttribute("ws-hole");f_.removeAttribute("ws-hole");while(f_.hasChildNodes())f_.removeChild(f_.lastChild);const ga=f2(f$);if(ga!=null&&ga.$==1){ const gb=ga.$0;cG(f_, gb.docNode);fT.push(c1.New(dL(f_), gb.docNode, null, f_, bC(), null));fU.push(gb.updates);} });bx(fQ, "[ws-replace]", (f_) => { const f$=f2(f_.getAttribute("ws-replace"));if(f$!=null&&f$.$==1){ const ga=f$.$0;const gb=f_.parentNode;const gc=globalThis.document.createTextNode("");gb.replaceChild(gc, f_);const gd=cL(gc, ga.docNode);f0=dl(fQ);const ge=b5((gf) => f_===gf, f0);if(ge==null){ } else j(f0, ge.$0, ga.docNode);fT.push(c1.New(dL(gb), ga.docNode, bi([gd, gc]), gb, bC(), null));fU.push(ga.updates);} });let f3=false;bx(fQ, "slot", (f_) => { const f$=f_.getAttribute("name");const ga=f$==""||f$==null?"default":f$.toLowerCase();if(f3&&ga=="default"||!q(fQ.parentElement, null)){ } else { while(f_.hasChildNodes())f_.removeChild(f_.lastChild);if(ga=="default")f3=true;const gb=f2(ga);if(gb!=null&&gb.$==1){ const gc=gb.$0;cG(f_, gc.docNode);fT.push(c1.New(dL(f_), gc.docNode, null, f_, bC(), null));fU.push(gc.updates);} } });bx(fQ, "[ws-attr]", (f_) => { let f$;const ga=f_.getAttribute("ws-attr");f_.removeAttribute("ws-attr");const gb=(f$=null,[fX.TryGetValue(ga, {get:() => f$, set:(gd) => { f$=gd;}}), f$]);if(gb[0]){ const gc=gb[1];if(gc instanceof d2)f1(f_, gc.Value);else console.warn("Attribute hole filled with non-attribute data", ga);} });bx(fQ, "[ws-on]", (f_) => { f1(f_, ed.Concat(b4((f$) => { let ga;const gb=ek(f$, [":"], 1);const gc=(ga=null,[fX.TryGetValue(i(gb, 1), {get:() => ga, set:(ge) => { ga=ge;}}), ga]);if(gc[0]){ const gd=gc[1];return gd instanceof d3?bi(d4(i(gb, 0), gd.Value)):gd instanceof u0034?bi(ed.Handler(i(gb, 0), gd.Value)):(console.warn("Event hole on"+i(gb, 0)+" filled with non-event data", i(gb, 1)),null);} else return null;}, ek(f_.getAttribute("ws-on"), [" "], 1))));f_.removeAttribute("ws-on");});bx(fQ, "[ws-onafterrender]", (f_) => { let f$;const ga=f_.getAttribute("ws-onafterrender");const gb=(f$=null,[fX.TryGetValue(ga, {get:() => f$, set:(gd) => { f$=gd;}}), f$]);if(gb[0]){ const gc=gb[1];if(gc instanceof ee){ f_.removeAttribute("ws-onafterrender");f1(f_, d5(gc.Value));} else if(gc instanceof ef){ f_.removeAttribute("ws-onafterrender");f1(f_, d5(gc.Value));} else console.warn("onafterrender hole filled with non-onafterrender data", ga);} });bx(fQ, "[ws-var]", (f_) => { let f$;const ga=f_.getAttribute("ws-var");f_.removeAttribute("ws-var");const gb=(f$=null,[fX.TryGetValue(ga, {get:() => f$, set:(gc) => { f$=gc;}}), f$]);if(gb[0])gb[1].AddAttribute((gc) =>(gd) => f1(gc, gd), f_);});const f4=() => { bz("[ws-dom]", (f_) => { let f$;let ga;let gb;const gc=(f$=null,[fX.TryGetValue(f_.getAttribute("ws-dom").toLowerCase(), {get:() => f$, set:(gg) => { f$=gg;}}), f$]);if(gc[0]){ const gd=gc[1];if(gd instanceof cn){ const ge=gd.Value;f_.removeAttribute("ws-dom");ga=f_;const gf=new MutationObserver((gg, gh) => { b9((gi) => { gi.removedNodes.forEach(fM((gj) => gj[0]===ga&&gi.addedNodes.length!==1?(ge.SetFinal(null),gh.disconnect()):null), null);}, gg);});if(f_.parentElement!==null)gf.observe(f_.parentElement, (gb={},gb.childList=true,gb));ge.Set(bi(f_));c6((gg) => { if(gg!=null&&gg.$==1){ const gh=gg.$0;if(ga===gh){ } else { ga.replaceWith(gh);ga=gh;} } else { ga.remove();gf.disconnect();} }, ge.View);} } });};bx(fQ, "[ws-attr-holes]", (f_) => { const f$=new RegExp(bA(), "g");const ga=ek(f_.getAttribute("ws-attr-holes"), [" "], 1);f_.removeAttribute("ws-attr-holes");for(let gb=0, gc=ga.length-1;gb<=gc;gb++)((() => { let gd;const ge=i(ga, gb);const gf=f_.getAttribute(ge);let gg=null;let gh=0;const gi=[];while(gg=f$.exec(gf),gg!==null){ const gj=dj(gf, bi(gh), bi(f$.lastIndex-i(gg, 0).length-1));gh=f$.lastIndex;gi.push([gj, i(gg, 1)]);} const gk=dj(gf, bi(gh), null);f$.lastIndex=0;const gl=b_((gq, gr) =>(((gs) => { const gt=gs[0];const gu=gs[1];return(gv) => { let gw;const gx=gv[0];const gy=gv[1];const gz=(gw=null,[fX.TryGetValue(gu, {get:() => gw, set:(gB) => { gw=gB;}}), gw]);const gA=gz[0]?gz[1].AsChoiceView:eg("");return gA.$==1?[gt, ei.Cons(gx==""?gA.$0:c7((gB) => gB+gx, gA.$0), gy)]:[gt+gA.$0+gx, gy];};})(gq))(gr), gi, [gk, ei.Empty]);if(gl[1].$==1){ if(gl[1].$1.$==1){ if(gl[1].$1.$1.$==1){ if(gl[1].$1.$1.$1.$==0){ const gm=gl[0];gd=d6(ge, c8((gq, gr, gs) => gm+gq+gr+gs, gl[1].$0, gl[1].$1.$0, gl[1].$1.$1.$0));} else { const gn=gl[0];gd=d6(ge, c7((gq) => gn+ej("", gq), c9(gl[1])));} } else { const go=gl[0];gd=d6(ge, c_((gq, gr) => go+gq+gr, gl[1].$0, gl[1].$1.$0));} } else if(gl[0]=="")gd=d6(ge, gl[1].$0);else { const gp=gl[0];gd=d6(ge, c7((gq) => gp+gq, gl[1].$0));} } else gd=ed.Create(ge, gl[0]);return f1(f_, gd);})());});let f5=f0;const f6=fW.length==0?bi(() => { f4();}):bi((f_) => { f4();b9((f$) => { f$(f_);}, fW);});const f7=!q(f0, null)&&f0.length===1&&(i(f0, 0)instanceof Node&&(i(f0, 0)instanceof Element&&(fS=i(f0, 0),true)))?bi(fS):null;let f8={Els:f5, Dirty:true, Holes:fT, Attrs:fV, Render:f6?f6.$0:void 0, El:f7?f7.$0:void 0};let f9=fN(f8, ["Render", "El"]);return[f9, er(c5(), c$, fU)];}
function bw(){ return cF.GlobalHoles;}
function bx(fQ, fR, fS){ dr(fQ, fR, (fT) => { if(fT.closest("[ws-preserve]")==null)fS(fT);});}
function by(fQ, fR, fS){ const fT=br(fS);return(fU) => { bu(fQ, fR, fT, fU);};}
function bz(fQ, fR){ ds(fQ, (fS) => { if(fS.closest("[ws-preserve]")==null)fR(fS);});}
function bA(){ return cF.TextHoleRE;}
class bB extends c { docNode;updates;static RunById(fQ, fR){ const fS=globalThis.document.getElementById(fQ);if(q(fS, null))e("invalid id: "+fQ);else bB.Run(fS, fR);} static Run(fQ, fR){ cG(fQ, fR.docNode);bB.RunInPlace(false, fQ, fR);} static get Empty(){ return bB.Mk(null, c5());} static RunInPlace(fQ, fR, fS){ const fT=cI(fR, fS.docNode);c6(dz()||dG()?dH(cJ(fQ, fT, fS.docNode)):() => { cK(fQ, fT, fS.docNode);}, fS.updates);} static Mk(fQ, fR){ return new bB(fQ, fR);} static TextNode(fQ){ return bB.Mk(cu(globalThis.document.createTextNode(fQ)), c5());} static TextView(fQ){ const fR=cT();return bB.Mk(cv(fR), c7((fS) => { cU(fR, fS);}, fQ));} constructor(fQ, fR){ super();this.docNode=fQ;this.updates=fR;} }
function bC(){ bD(bE()+1);return bE();}
function bD(fQ){ c0.counter=fQ;}
function bE(){ return c0.counter;}
function bF(fQ, fR){ return{$:2, $0:fQ, $1:fR};}
function bG(fQ){ return{$:0, $0:fQ};}
function bH(fQ, fR){ return{$:3, $0:fQ, $1:fR};}
class bI extends c { equals;hash;count;data;set_Item(fQ, fR){ this.set(fQ, fR);} set(fQ, fR){ const fS=this.hash(fQ);const fT=this.data[fS];if(fT==null){ this.count=this.count+1;this.data[fS]=new Array({K:fQ, V:fR});} else { const fU=b5((fV) => this.equals.apply(null, [(f(fV))[0], fQ]), fT);if(fU==null){ this.count=this.count+1;fT.push({K:fQ, V:fR});} else fT[fU.$0]={K:fQ, V:fR};} } TryGetValue(fQ, fR){ const fS=this.data[this.hash(fQ)];if(fS==null)return false;else { const fT=b6((fU) => { const fV=f(fU);return this.equals.apply(null, [fV[0], fQ])?bi(fV[1]):null;}, fS);return fT!=null&&fT.$==1&&(fR.set(fT.$0),true);} } ContainsKey(fQ){ const fR=this.data[this.hash(fQ)];return fR==null?false:b7((fS) => this.equals.apply(null, [(f(fS))[0], fQ]), fR);} RemoveKey(fQ){ return this.remove(fQ);} get Keys(){ return new dy(this);} GetEnumerator(){ return cD(b8(C(this.data)));} get Values(){ return new ev(this);} remove(fQ){ const fR=this.hash(fQ);const fS=this.data[fR];if(fS==null)return false;else { const fT=ca((fU) =>!this.equals.apply(null, [(f(fU))[0], fQ]), fS);return l(fT)<fS.length&&(this.count=this.count-1,this.data[fR]=fT,true);} } Item(fQ){ return this.get(fQ);} get(fQ){ const fR=this.data[this.hash(fQ)];return fR==null?cz():cc((fS) => { const fT=f(fS);return this.equals.apply(null, [fT[0], fQ])?bi(fT[1]):null;}, fR);} static New_5(){ return new this("New_5");} static New_6(fQ, fR, fS){ return new this("New_6", fQ, fR, fS);} constructor(fQ, fR, fS, fT){ if(fQ=="New_5"){ fQ="New_6";fR=[];fS=q;fT=t;} if(fQ=="New_6"){ const fU=fR;const fV=fS;const fW=fT;super();this.equals=fV;this.hash=fW;this.count=0;this.data=[];const fX=cA(fU);try { while(fX.MoveNext()){ const fY=fX.Current;this.set(fY.K, fY.V);} } finally { if(typeof fX=="object"&&a(fX))fX.Dispose();} } } }
function bJ(fQ, fR){ return{k:fQ, ct:fR};}
function bK(fQ){ return{$:1, $0:fQ};}
function bL(fQ){ return{$:0, $0:fQ};}
function bM(fQ){ return{$:2, $0:fQ};}
function bN(fQ, fR){ return{c:fQ, r:fR};}
class bO extends c { equals;hash;data;count;SAdd(fQ){ return this.add(fQ);} Contains(fQ){ const fR=this.data[this.hash(fQ)];return fR==null?false:this.arrContains(fQ, fR);} add(fQ){ const fR=this.hash(fQ);const fS=this.data[fR];return fS==null?(this.data[fR]=[fQ],this.count=this.count+1,true):this.arrContains(fQ, fS)?false:(fS.push(fQ),this.count=this.count+1,true);} arrContains(fQ, fR){ let fS=true;let fT=0;const fU=fR.length;while(fS&&fT<fU)if(this.equals.apply(null, [fR[fT], fQ]))fS=false;else fT=fT+1;return!fS;} GetEnumerator(){ return cA(eN(this.data));} ExceptWith(fQ){ const fR=cA(fQ);try { while(fR.MoveNext())this.Remove(fR.Current);} finally { if(typeof fR=="object"&&a(fR))fR.Dispose();} } get Count(){ return this.count;} IntersectWith(fQ){ const fR=new bO("New_4", fQ, this.equals, this.hash);const fS=eN(this.data);for(let fU=0, fV=fS.length-1;fU<=fV;fU++){ const fT=fS[fU];if(!fR.Contains(fT))this.Remove(fT);} } Remove(fQ){ const fR=this.data[this.hash(fQ)];return fR==null?false:this.arrRemove(fQ, fR)&&(this.count=this.count-1,true);} CopyTo(fQ, fR){ const fS=eN(this.data);for(let fT=0, fU=fS.length-1;fT<=fU;fT++)j(fQ, fT+fR, fS[fT]);} arrRemove(fQ, fR){ let fS=true;let fT=0;const fU=fR.length;while(fS&&fT<fU)if(this.equals.apply(null, [fR[fT], fQ])){ fR.splice(fT, 1);fS=false;} else fT=fT+1;return!fS;} static New_3(){ return new this("New_3");} static New_4(fQ, fR, fS){ return new this("New_4", fQ, fR, fS);} static New_2(fQ){ return new this("New_2", fQ);} constructor(fQ, fR, fS, fT){ if(fQ=="New_3"){ fQ="New_4";fR=[];fS=q;fT=t;} let fU;if(fQ=="New_2"){ fU=fR;fQ="New_4";fR=fU;fS=q;fT=t;} if(fQ=="New_4"){ const fV=fR;const fW=fS;const fX=fT;super();this.equals=fW;this.hash=fX;this.data=[];this.count=0;const fY=cA(fV);try { while(fY.MoveNext())this.add(fY.Current);} finally { if(typeof fY=="object"&&a(fY))fY.Dispose();} } } }
function bP(fQ, fR){ return{GetEnumerator:() => { const fS=cA(fQ);const fT=[true];return new cE(fS, null, (fU) => { if(fU.s.MoveNext()){ fU.c=fU.s.Current;return true;} else { const fV=fU.s;if(!q(fV, null))fV.Dispose();fU.s=null;return fT[0]&&(fT[0]=false,fU.s=cA(fR),fU.s.MoveNext()?(fU.c=fU.s.Current,true):(fU.s.Dispose(),fU.s=null,false));} }, (fU) => { const fV=fU.s;if(!q(fV, null))fV.Dispose();});}};}
function bQ(fQ){ const fR=cA(fQ);try { return fR.MoveNext()?fR.Current:dv();} finally { if(typeof fR=="object"&&a(fR))fR.Dispose();} }
function bR(fQ, fR, fS){ let fT=fR;const fU=cA(fS);try { while(fU.MoveNext())fT=fQ(fT, fU.Current);return fT;} finally { if(typeof fU=="object"&&a(fU))fU.Dispose();} }
function bS(fQ, fR){ const fS=cA(fR);try { while(fS.MoveNext())fQ(fS.Current);} finally { if(typeof fS=="object"&&a(fS))fS.Dispose();} }
function bT(fQ, fR){ return{GetEnumerator:() => { const fS=cA(fR);return new cE(null, null, (fT) => fS.MoveNext()&&(fT.c=fQ(fS.Current),true), () => { fS.Dispose();});}};}
function bU(fQ){ return{GetEnumerator:() => cA(fQ())};}
function bV(fQ, fR){ return bX(bT(fQ, fR));}
function bW(fQ){ const fR=cA(fQ);try { if(!fR.MoveNext())bZ();let fS=fR.Current;while(fR.MoveNext()){ const fT=fR.Current;if(y(fT, fS)===1)fS=fT;} return fS;} finally { if(typeof fR=="object"&&a(fR))fR.Dispose();} }
function bX(fQ){ return{GetEnumerator:() => { const fR=cA(fQ);function fS(fT){ while(true){ const fU=fT.s;if(q(fU, null)){ if(fR.MoveNext()){ fT.s=cA(fR.Current);fT=fT;} else { fR.Dispose();return false;} } else if(fU.MoveNext()){ fT.c=fU.Current;return true;} else { fT.Dispose();fT.s=null;fT=fT;} } } return new cE(null, null, fS, (fT) => { const fU=fT.s;if(!q(fU, null))fU.Dispose();if(!q(fR, null))fR.Dispose();});}};}
function bY(fQ, fR){ return b0(fQ, b1(fR));}
function bZ(){ return e("The input sequence was empty.");}
function b0(fQ, fR){ fQ<0?dx():void 0;return{GetEnumerator:() => { const fS=[cA(fR)];return new cE(0, null, (fT) => { fT.s=fT.s+1;if(fT.s>fQ)return false;else { const fU=fS[0];return q(fU, null)?dv():fU.MoveNext()?(fT.c=fU.Current,fT.s===fQ?(fU.Dispose(),fS[0]=null):void 0,true):(fU.Dispose(),fS[0]=null,dv());} }, () => { const fT=fS[0];if(!q(fT, null))fT.Dispose();});}};}
function b1(fQ){ return{GetEnumerator:() => new cE(0, null, (fR) => { fR.c=fQ(fR.s);fR.s=fR.s+1;return true;}, void 0)};}
function b2(fQ, fR){ return!b3((fS) =>!fQ(fS), fR);}
function b3(fQ, fR){ const fS=cA(fR);try { let fT=false;while(!fT&&fS.MoveNext())fT=fQ(fS.Current);return fT;} finally { if(typeof fS=="object"&&a(fS))fS.Dispose();} }
function b4(fQ, fR){ const fS=[];for(let fU=0, fV=fR.length-1;fU<=fV;fU++){ const fT=fQ(fR[fU]);if(fT==null){ } else fS.push(fT.$0);} return fS;}
function b5(fQ, fR){ let fS=null;let fT=0;while(fT<fR.length&&fS==null){ fQ(fR[fT])?fS=bi(fT):void 0;fT=fT+1;} return fS;}
function b6(fQ, fR){ let fS=null;let fT=0;while(fT<fR.length&&fS==null){ const fU=fQ(fR[fT]);if(fU!=null&&fU.$==1)fS=fU;fT=fT+1;} return fS;}
function b7(fQ, fR){ let fS=false;let fT=0;while(!fS&&fT<l(fR))if(fQ(fR[fT]))fS=true;else fT=fT+1;return fS;}
function b8(fQ){ return Array.prototype.concat.apply([], cb(fQ));}
function b9(fQ, fR){ for(let fS=0, fT=fR.length-1;fS<=fT;fS++)fQ(fR[fS]);}
function b_(fQ, fR, fS){ let fT=fS;const fU=fR.length;for(let fV=1, fW=fU;fV<=fW;fV++)fT=fQ(fR[fU-fV], fT);return fT;}
function b$(fQ, fR){ const fS=new Array(fR.length);for(let fT=0, fU=fR.length-1;fT<=fU;fT++)fS[fT]=fQ(fR[fT]);return fS;}
function ca(fQ, fR){ const fS=[];for(let fT=0, fU=fR.length-1;fT<=fU;fT++)if(fQ(fR[fT]))fS.push(fR[fT]);return fS;}
function cb(fQ){ if(fQ instanceof Array)return fQ.slice();else if(fQ instanceof ei)return cd(fQ);else { const fR=[];const fS=cA(fQ);try { while(fS.MoveNext())fR.push(fS.Current);return fR;} finally { if(typeof fS=="object"&&a(fS))fS.Dispose();} } }
function cc(fQ, fR){ const fS=b6(fQ, fR);return fS==null?e("KeyNotFoundException"):fS.$0;}
function cd(fQ){ const fR=[];let fS=fQ;while(!(fS.$==0)){ fR.push(e2(fS));fS=e3(fS);} return fR;}
function ce(fQ, fR){ let fS=true;let fT=0;while(fS&&fT<l(fR))if(fQ(fR[fT]))fT=fT+1;else fS=false;return fS;}
function cf(fQ, fR){ const fS=new Array(fQ);for(let fT=0, fU=fQ-1;fT<=fU;fT++)fS[fT]=fR;return fS;}
function cg(fQ, fR){ if(fQ<0)e("Negative size given.");else null;const fS=new Array(fQ);for(let fT=0, fU=fQ-1;fT<=fU;fT++)fS[fT]=fR(fT);return fS;}
let ch=fI((fQ) => class fR extends c { static { ch=fQ(this);} static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(fS, fT, fU){ let fV;const fW=ch.GetHolesFor(fS);const fX=(fV=null,[fW.TryGetValue(fT, {get:() => fV, set:(fZ) => { fV=fZ;}}), fV]);if(fX[0])return fX[1];else { const fY=fU();fW.set_Item(fT, fY);return fY;} } static GetHolesFor(fS){ let fT;const fU=(fT=null,[ch.initialized.TryGetValue(fS, {get:() => fT, set:(fW) => { fT=fW;}}), fT]);if(fU[0])return fU[1];else { const fV=new bI("New_5");ch.initialized.set_Item(fS, fV);return fV;} } static { ch.initialized=new bI("New_5");ch.instances=new bI("New_5");} });
class ci extends u0031 { name;fillWith;get Name(){ return this.name;} ForTextView(){ return bi(this.fillWith.View);} AddAttribute(fQ, fR){(fQ(fR))(d7(this.fillWith));} get AsChoiceView(){ return eh(c7(String, this.fillWith.View));} constructor(fQ, fR){ super();this.name=fQ;this.fillWith=fR;} }
class cj extends u0031 { name;fillWith;get Name(){ return this.name;} ForTextView(){ return bi(c7(String, this.fillWith.View));} AddAttribute(fQ, fR){(fQ(fR))(d8(this.fillWith));} get AsChoiceView(){ return eh(c7(String, this.fillWith.View));} constructor(fQ, fR){ super();this.name=fQ;this.fillWith=fR;} }
class ck extends u0031 { name;fillWith;get Name(){ return this.name;} ForTextView(){ return bi(c7(String, this.fillWith.View));} AddAttribute(fQ, fR){(fQ(fR))(d9(this.fillWith));} get AsChoiceView(){ return eh(c7(String, this.fillWith.View));} constructor(fQ, fR){ super();this.name=fQ;this.fillWith=fR;} }
class cl extends u0031 { name;fillWith;get Name(){ return this.name;} ForTextView(){ return bi(c7((fQ) =>(new Date(fQ)).toLocaleString(), this.fillWith.View));} AddAttribute(fQ, fR){(fQ(fR))(d_(this.fillWith));} get AsChoiceView(){ return eh(c7((fQ) =>(new Date(fQ)).toLocaleString(), this.fillWith.View));} constructor(fQ, fR){ super();this.name=fQ;this.fillWith=fR;} }
class cm extends u0031 { name;fillWith;get Name(){ return this.name;} ForTextView(){ return bi(c7(String, this.fillWith.View));} AddAttribute(fQ, fR){(fQ(fR))(d$(this.fillWith));} get AsChoiceView(){ return eh(c7(String, this.fillWith.View));} constructor(fQ, fR){ super();this.name=fQ;this.fillWith=fR;} }
class cn extends u0031 { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fQ, fR){ super();this.name=fQ;this.fillWith=fR;} }
class co extends u0031 { name;fillWith;get Name(){ return this.name;} ForTextView(){ return bi(c7((fQ) => ej(",", fQ), this.fillWith.View));} AddAttribute(fQ, fR){(fQ(fR))(ea(this.fillWith));} get AsChoiceView(){ return eh(c7(String, this.fillWith.View));} constructor(fQ, fR){ super();this.name=fQ;this.fillWith=fR;} }
class cp extends c { }
function cq(fQ){ let fR;const fS=fQ.s;if(fS==null||(fS!=null&&fS.$==2?(fR=fS.$1,false):fS!=null&&fS.$==3?(fR=fS.$1,false):true))void 0;else { fQ.s=null;for(let fU=0, fV=l(fR)-1;fU<=fV;fU++){ const fT=i(fR, fU);if(typeof fT=="object")(((fW) => { cq(fW);})(fT));else fT();} } }
class cr { }
function cs(fQ, fR){ return fA(fQ, -2147483648, 2147483647, fR);}
function ct(fQ){ return{$:6, $0:fQ};}
function cu(fQ){ return{$:5, $0:fQ};}
function cv(fQ){ return{$:4, $0:fQ};}
class cw extends c { idle;robin;Fork(fQ){ this.robin.push(fQ);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const fQ=Date.now();let fR=true;while(fR)if(this.robin.length===0){ this.idle=true;fR=false;} else {(this.robin.shift())();Date.now()-fQ>40?(setTimeout(() => { this.tick();}, 0),fR=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} }
class cx extends Error { reason;constructor(fQ){ super("Promise rejected");this.reason=fQ;} }
let cy=fI((fQ) => class fR { static { cy=fQ(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=bN(false, []);this.scheduler=new cw();this.defCTS=[new c3()];this.Zero=u0038();this.GetCT=(fS) => { fS.k(bL(fS.ct));};} });
function cz(){ throw new eV("New");}
function cA(fQ){ return fQ instanceof Array?cB(fQ):q(typeof fQ, "string")?cC(fQ):fQ.GetEnumerator();}
function cB(fQ){ return new cE(0, null, (fR) => { const fS=fR.s;return fS<l(fQ)&&(fR.c=i(fQ, fS),fR.s=fS+1,true);}, void 0);}
function cC(fQ){ return new cE(0, null, (fR) => { const fS=fR.s;return fS<fQ.length&&(fR.c=fQ[fS],fR.s=fS+1,true);}, void 0);}
function cD(fQ){ return fQ instanceof Array?cB(fQ):q(typeof fQ, "string")?cC(fQ):"GetEnumerator0"in fQ?fQ.GetEnumerator0():fQ.GetEnumerator();}
class cE extends c { s;c;n;d;e;MoveNext(){ const fQ=this.n(this);this.e=fQ?1:2;return fQ;} get Current(){ return this.e===1?this.c:this.e===0?e("Enumeration has not started. Call MoveNext."):e("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(fQ, fR, fS, fT){ super();this.s=fQ;this.c=fR;this.n=fS;this.d=fT;this.e=0;} }
let cF=fI((fQ) => class fR { static { cF=fQ(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new bI("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new bI("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function cG(fQ, fR){ cH(fQ, fR, null);}
function cH(fQ, fR, fS){ while(true){ if(fR!=null&&fR.$==1)return cM(fQ, fR.$0.El, fS);else if(fR!=null&&fR.$==2){ const fT=fR.$0;fT.Dirty=false;fR=fT.Current;} else if(fR==null)return fS;else if(fR!=null&&fR.$==4)return cM(fQ, fR.$0.Text, fS);else if(fR!=null&&fR.$==5)return cM(fQ, fR.$0, fS);else if(fR!=null&&fR.$==6)return b_((fW, fX) =>((((fY) =>(fZ) =>(f0) => fZ==null||fZ.constructor===Object?cH(fY, fZ, f0):cM(fY, fZ, f0))(fQ))(fW))(fX), fR.$0.Els, fS);else { const fU=fR.$1;const fV=fR.$0;fR=fV;fS=cH(fQ, fU, fS);} } }
function cI(fQ, fR){ return ew(ex(), cN(fQ, dP(), fR));}
function cJ(fQ, fR, fS){ if(dz()){ const fT=null;return u0036(() => { const fU=ey(fS);const fV=cR(fR, fU);const fW=cQ(fR, fU);return u0037(dA(dB(fV, cP(fR, fU))), () => u0037(cO(fQ, fR), () => u0037(dA(fW), () => { fR.PreviousNodes=fU;return u0038(null);})));});} else return cO(fQ, fR);}
function cK(fQ, fR, fS){ const fT=ey(fS);cS(fQ, fR.Top);fR.PreviousNodes=fT;}
function cL(fQ, fR){ const fS=fQ.parentNode;const fT=globalThis.document.createTextNode("");fS.insertBefore(fT, fQ);cV(fQ, fR);return fT;}
function cM(fQ, fR, fS){ dt(fQ, fS, fR);return fR;}
function cN(fQ, fR, fS){ cG(fQ, fS);const fT=dJ(fQ, fR);return c1.New(fT, fS, null, fQ, bC(), fL(fT.OnAfterRender));}
function cO(fQ, fR){ if(dG()){ const fS=(fT) => { requestAnimationFrame(() => { cS(fQ, fR.Top);fT();});};return be((fT, fU, fV) => fS.apply(null, [fT, fU, fV]));} else { cS(fQ, fR.Top);return u0038(null);} }
function cP(fQ, fR){ return dE(b$((fS) => dR(fS.Attr), eC(eB(fR, eA((fS) => dQ(fS.Attr), fQ.PreviousNodes)))));}
function cQ(fQ, fR){ return dE(b$((fS) => dT(fS.Attr), eC(eB(fQ.PreviousNodes, eA((fS) => dS(fS.Attr), fR)))));}
function cR(fQ, fR){ const fS=(fU) => dU(fU.Attr);const fT=(fU) => eA(fS, fU);return dE(b$((fU) => dV(fU.Attr), eC(eD(fT(fQ.PreviousNodes), fT(fR)))));}
function cS(fQ, fR){!fQ?cW(fR):void 0;cX(fR.Children);cY(fR);}
function cT(){ return{Text:globalThis.document.createTextNode(""), Dirty:false, Value:""};}
function cU(fQ, fR){ fQ.Value=fR;fQ.Dirty=true;}
function cV(fQ, fR){ cH(fQ.parentNode, fR, fQ);}
function cW(fQ){ function fR(fS){ function fT(fU){ while(true){ if(fU!=null&&fU.$==0){ const fV=fU.$1;const fW=fU.$0;if(fT(fW))return true;else fU=fV;} else if(fU!=null&&fU.$==2){ const fX=fU.$0;if(fX.Dirty)return true;else fU=fX.Current;} else if(fU!=null&&fU.$==6){ const fY=fU.$0;return fY.Dirty||b7(fR, fY.Holes);} else return false;} } return fT(fS.Children);} dY(fQ.El, fQ.Attr);if(fR(fQ))cZ(fQ);}
function cX(fQ){ while(true){ if(fQ!=null&&fQ.$==1)return cS(false, fQ.$0);else if(fQ!=null&&fQ.$==2){ const fR=fQ.$0;fQ=fR.Current;} else if(fQ==null)return null;else if(fQ!=null&&fQ.$==5)return null;else if(fQ!=null&&fQ.$==4){ const fS=fQ.$0;return fS.Dirty?(fS.Text.nodeValue=fS.Value,fS.Dirty=false):null;} else if(fQ!=null&&fQ.$==6){ const fT=fQ.$0;b9((fW) => { cS(false, fW);}, fT.Holes);b9((fW) => { dY(fW[0], fW[1]);}, fT.Attrs);return cY(fT);} else { const fU=fQ.$1;const fV=fQ.$0;cX(fV);fQ=fU;} } }
function cY(fQ){ const fR=fL(fQ.Render);if(fR!=null&&fR.$==1){ fR.$0(fQ.El);fK(fQ, "Render", null);} }
function cZ(fQ){ const fR=fQ.El;function fS(fW, fX){ while(true){ if(fW!=null&&fW.$==1)return fW.$0.El;else if(fW!=null&&fW.$==2){ const fY=fW.$0;if(fY.Dirty){ fY.Dirty=false;return cH(fR, fY.Current, fX);} else fW=fY.Current;} else if(fW==null)return fX;else if(fW!=null&&fW.$==4)return fW.$0.Text;else if(fW!=null&&fW.$==5)return fW.$0;else if(fW!=null&&fW.$==6){ const fZ=fW.$0;if(fZ.Dirty)fZ.Dirty=false;return b_((f2, f3) => f2==null||f2.constructor===Object?fS(f2, f3):f2, fZ.Els, fX);} else { const f0=fW.$1;const f1=fW.$0;fW=f1;fX=fS(f0, fX);} } } const fT=fQ.El;fv((fW) => { du(fT, fW);}, fu(fw(fQ), ft(fQ.El, fL(fQ.Delimiters))));let fU=fQ.Children;const fV=fL(fQ.Delimiters);fS(fU, fV!=null&&fV.$==1?fV.$0[1]:null);}
let c0=fI((fQ) => class fR { static { c0=fQ(this);} static counter;static { this.counter=0;} });
class c1 { Attr;Children;Delimiters;El;ElKey;Render;Equals(fQ){ return this.ElKey===fQ.ElKey;} GetHashCode(){ return this.ElKey;} static New(fQ, fR, fS, fT, fU, fV){ const fW={Attr:fQ, Children:fR, El:fT, ElKey:fU};let fX=(fK(fW, "Delimiters", fS),fK(fW, "Render", fV),fW);return fO(c1, fX);} }
class c2 extends Error { ct;static New(fQ){ return new this("New", fQ);} static New_1(fQ, fR, fS){ return new this("New_1", fQ, fR, fS);} constructor(fQ, fR, fS, fT){ let fU;if(fQ=="New"){ fU=fR;fQ="New_1";fR="The operation was canceled.";fS=null;fT=fU;} if(fQ=="New_1"){ const fV=fR;const fW=fS;const fX=fT;super(fV);this.inner=fW;this.ct=fX;} } }
class c3 extends c { init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} }
class c4 extends bB { docNode_1;updates_1;elt;rvUpdates;static TreeNode(fQ, fR){ const fS=eu.Create(fR);const fT=b$((fW) => dK(fW[1]), fQ.Attrs);let fU=er(c5(), c$, fT);let fV=c$(fU, fS.v);return new c4(ct(fQ), fV, i(fQ.Els, 0), fS);} constructor(fQ, fR, fS, fT){ super(fQ, fR);this.docNode_1=fQ;this.updates_1=fR;this.elt=fS;this.rvUpdates=fT;} }
function c5(fQ){ const fR={s:bG(fQ)};return() => fR;}
function c6(fQ, fR){ function fS(){ E(fR(), fQ, () => { bd().Fork(fS);});} bd().Fork(fS);}
function c7(fQ, fR){ return da(() => F(fQ, fR()));}
function c8(fQ, fR, fS, fT){ return da(() => G(fQ, fR(), fS(), fT()));}
function c9(fQ){ return da(() => H(bT((fR) => fR(), fQ)));}
function c_(fQ, fR, fS){ return da(() => I(fQ, fR(), fS()));}
function c$(fQ, fR){ return da(() => J(fQ(), fR()));}
function da(fQ){ const fR={c:null, o:fQ};return() => { let fS=fR.c;if(fS===null){ fS=fR.o();fR.c=fS;const fT=fS.s;if(fT!=null&&fT.$==0)fR.o=null;else L(fS, () => { fR.c=null;});return fS;} else return fS;};}
function db(fQ){ let fR=null;let fS=0;const fT=fQ.textContent;const fU=new RegExp(bA(), "g");while(fR=fU.exec(fT),fR!==null){ fQ.parentNode.insertBefore(globalThis.document.createTextNode(dj(fT, bi(fS), bi(fU.lastIndex-i(fR, 0).length-1))), fQ);fS=fU.lastIndex;const fV=globalThis.document.createElement("span");fV.setAttribute("ws-replace", i(fR, 1).toLowerCase());fQ.parentNode.insertBefore(fV, fQ);} fU.lastIndex=0;fQ.textContent=dj(fT, bi(fS), null);}
function dc(fQ){ console.warn("Instantiating non-loaded template", fQ);}
function dd(fQ, fR, fS){ const fT=fQ.querySelector("[ws-replace]");return q(fT, null)?(console.warn("Filling non-existent text hole", fS),null):(fT.parentNode.replaceChild(globalThis.document.createTextNode(fR), fT),bi(fT.getAttribute("ws-replace")));}
function de(fQ, fR){ const fS=(fT) => { bx(fQ, "["+fT+"]", (fU) => { if(!fR.Contains(fU.getAttribute(fT)))fU.removeAttribute(fT);});};fS("ws-attr");fS("ws-onafterrender");fS("ws-var");bx(fQ, "[ws-hole]", (fT) => { if(!fR.Contains(fT.getAttribute("ws-hole"))){ fT.removeAttribute("ws-hole");while(fT.hasChildNodes())fT.removeChild(fT.lastChild);} });bx(fQ, "[ws-replace]", (fT) => { if(!fR.Contains(fT.getAttribute("ws-replace")))fT.parentNode.removeChild(fT);});bx(fQ, "[ws-on]", (fT) => { fT.setAttribute("ws-on", ej(" ", ca((fU) => fR.Contains(i(ek(fU, [":"], 1), 1)), ek(fT.getAttribute("ws-on"), [" "], 1))));});bx(fQ, "[ws-attr-holes]", (fT) => { const fU=ek(fT.getAttribute("ws-attr-holes"), [" "], 1);for(let fY=0, fZ=fU.length-1;fY<=fZ;fY++){ const fV=i(fU, fY);let fW=new RegExp(bA(), "g");let fX=fT.getAttribute(fV).replace(fW, (f0, f1) => fR.Contains(f1)?f0:"");fT.setAttribute(fV, fX);} });}
function df(fQ, fR){ di(fR);const fS=fR.nodeName.toLowerCase();const fT=fQ.querySelector("[ws-attr="+fS+"]");if(q(fT, null))console.warn("Filling non-existent attr hole", fS);else { fT.removeAttribute("ws-attr");for(let fV=0, fW=fR.attributes.length-1;fV<=fW;fV++){ const fU=fR.attributes.item(fV);if(fU.name=="class"&&fT.hasAttribute("class"))fT.setAttribute("class", fT.getAttribute("class")+" "+fU.nodeValue);else fT.setAttribute(fU.name, fU.nodeValue);} } }
function dg(fQ, fR){ const fS=(fT) => { bx(fQ, "["+fT+"]", (fU) => { let fV;const fW=(fV=null,[fR.TryGetValue(fU.getAttribute(fT).toLowerCase(), {get:() => fV, set:(fX) => { fV=fX;}}), fV]);if(fW[0])fU.setAttribute(fT, fW[1]);});};fS("ws-hole");fS("ws-replace");fS("ws-attr");fS("ws-onafterrender");fS("ws-var");bx(fQ, "[ws-on]", (fT) => { fT.setAttribute("ws-on", ej(" ", b$((fU) => { let fV;const fW=ek(fU, [":"], 1);const fX=(fV=null,[fR.TryGetValue(i(fW, 1), {get:() => fV, set:(fY) => { fV=fY;}}), fV]);return fX[0]?i(fW, 0)+":"+fX[1]:fU;}, ek(fT.getAttribute("ws-on"), [" "], 1))));});bx(fQ, "[ws-attr-holes]", (fT) => { const fU=ek(fT.getAttribute("ws-attr-holes"), [" "], 1);for(let fV=0, fW=fU.length-1;fV<=fW;fV++)((() => { const fX=i(fU, fV);return fT.setAttribute(fX, bR((fY, fZ) => { const f0=f(fZ);return fY.replace(new RegExp("\\${"+f0[0]+"}", "ig"), "${"+f0[1]+"}");}, fT.getAttribute(fX), fR));})());});}
function dh(fQ, fR, fS){ while(true){ if(fQ.hasChildNodes())fS=fR.insertBefore(fQ.lastChild, fS);else return null;} }
function di(fQ){ const fR=fQ.attributes;const fS=[];const fT=[];const fU=[];for(let fZ=0, f0=fR.length-1;fZ<=f0;fZ++){ const fV=fR.item(fZ);if(el(fV.nodeName, "ws-on")&&fV.nodeName!="ws-onafterrender"&&fV.nodeName!="ws-on"){ fS.push(fV.nodeName);fT.push(dj(fV.nodeName, bi("ws-on".length), null)+":"+fV.nodeValue.toLowerCase());} else if(!el(fV.nodeName, "ws-")&&(new RegExp(bA())).test(fV.nodeValue)){ let fW=new RegExp(bA(), "g");let fX=fV.nodeValue.replace(fW, (f1, f2) =>"${"+f2.toLowerCase()+"}");fV.nodeValue=fX;fU.push(fV.nodeName);} else void 0;} if(!(fT.length==0))fQ.setAttribute("ws-on", ej(" ", fT));if(!(fU.length==0))fQ.setAttribute("ws-attr-holes", ej(" ", fU));const fY=(f1) => { const f2=fQ.getAttribute(f1);if(f2==null){ } else fQ.setAttribute(f1, f2.toLowerCase());};fY("ws-hole");fY("ws-replace");fY("ws-attr");fY("ws-onafterrender");fY("ws-var");b9((f1) => { fQ.removeAttribute(f1);}, fS);}
function dj(fQ, fR, fS){ if(fR==null){ if(fS!=null&&fS.$==1){ const fT=fS.$0;return fT<0?"":fQ.slice(0, fT+1);} else return"";} else if(fS==null)return fQ.slice(fR.$0);else { const fU=fS.$0;return fU<0?"":fQ.slice(fR.$0, fU+1);} }
function dk(fQ){ const fR=globalThis.document.createElement("div");if(!dm().test(fQ)){ fR.appendChild(globalThis.document.createTextNode(fQ));return fR;} else { const fS=dq().exec(fQ);const fT=q(fS, null)?"":i(fS, 1).toLowerCase();const fU=(dn())[fT];const fV=fU?fU:do_1();fR.innerHTML=fV[1]+fQ.replace(dp(), "<$1></$2>")+fV[2];function fW(fX, fY){ while(true){ if(fY===0)return fX;else { const fZ=fY;fX=fX.lastChild;fY=fZ-1;} } } return fW(fR, fV[0]);} }
function dl(fQ){ const fR=[];for(let fS=0, fT=fQ.childNodes.length-1;fS<=fT;fS++)fR.push(fQ.childNodes[fS]);return fR;}
function dm(){ return eO.rhtml;}
function dn(){ return eO.wrapMap;}
function do_1(){ return eO.defaultWrap;}
function dp(){ return eO.rxhtmlTag;}
function dq(){ return eO.rtagName;}
function dr(fQ, fR, fS){ const fT=fQ.querySelectorAll(fR);for(let fU=0, fV=fT.length-1;fU<=fV;fU++)fS(fT[fU]);}
function ds(fQ, fR){ const fS=globalThis.document.querySelectorAll(fQ);for(let fT=0, fU=fS.length-1;fT<=fU;fT++)fR(fS[fT]);}
function dt(fQ, fR, fS){ let fT;if(fS.parentNode===fQ){ const fU=fS.nextSibling;let fV=q(fU, null)?null:fU;fT=fR===fV;} else fT=false;if(!fT)fQ.insertBefore(fS, fR);}
function du(fQ, fR){ if(fR.parentNode===fQ)fQ.removeChild(fR);}
function dv(){ return e("The input sequence has an insufficient number of elements.");}
function dw(fQ, fR){ let fS=true;let fT=0;while(fS&&fT<l(fR))if(q(fR[fT], fQ))fS=false;else fT=fT+1;return!fS;}
function dx(){ return e("The input must be non-negative.");}
class dy extends c { d;GetEnumerator(){ return cA(bT((fQ) => fQ.K, this.d));} constructor(fQ){ super();this.d=fQ;} }
function dz(){ return eE();}
function dA(fQ){ const fR=null;return u0036(() => u0037(dC(() => { }, eF(fQ)), () => { eG(fQ);return u0038(null);}));}
function dB(fQ, fR){ return dD(eQ(fQ.$0, fR.$0));}
function dC(fQ, fR){ const fS=fR.Duration;if(fS===0)return bf();else { const fT=(fU) => { function fV(fW){ return(fX) => { const fY=fX-fW;fR.Compute(fY);fQ();return fY<=fS?void requestAnimationFrame((fZ) => {(fV(fW))(fZ);}):fU();};} requestAnimationFrame((fW) => {(fV(fW))(fW);});};return be((fU, fV, fW) => fT.apply(null, [fU, fV, fW]));} }
function dD(fQ){ return{$:0, $0:fQ};}
function dE(fQ){ return dD(eS(bT(eI, fQ)));}
function dF(){ return dD(eT());}
function dG(){ return eM.BatchUpdatesEnabled;}
function dH(fQ){ const fR=[0];function fS(){ const fT=null;return u0036(() => u0037(fQ, () => { const fU=fR[0];return q(fU, 1)?(fR[0]=0,bf()):q(fU, 2)?(fR[0]=1,fS()):bf();}));} return() => { const fT=fR[0];if(q(fT, 0)){ fR[0]=1;u0039(fS(), null);} else q(fT, 1)?fR[0]=2:void 0;};}
function dI(fQ, fR, fS, fT){ const fU={DynElem:fQ, DynFlags:fR, DynNodes:fS};fK(fU, "OnAfterRender", fT);return fU;}
function dJ(fQ, fR){ const fS=[];const fT=[];function fU(fX){ while(true){ if(!(fX===null)){ if(fX!=null&&fX.$==1)return fS.push(fX.$0);else if(fX!=null&&fX.$==2){ const fY=fX.$1;const fZ=fX.$0;fU(fZ);fX=fY;} else return fX!=null&&fX.$==3?fX.$0(fQ):fX!=null&&fX.$==4?fT.push(fX.$0):null;} else return null;} } fU(fR);const fV=fS.slice(0);let fW=dI(fQ, dM(fR), fV, fT.length===0?null:bi((fX) => { bS((fY) => { fY(fX);}, fT);}));return fW;}
function dK(fQ){ return es((fR) => fR.NChanged, c5(), c$, fQ.DynNodes);}
function dL(fQ){ return dI(fQ, 0, [], null);}
function dM(fQ){ return fQ!==null&&fQ.hasOwnProperty("flags")?fQ.flags:0;}
function dN(fQ){ return ed.A3(fQ);}
function dO(fQ, fR){ return ed.A1(new eU(fQ, fR));}
function dP(){ return eW.EmptyAttr;}
function dQ(fQ){ const fR=2;return(fQ.DynFlags&fR)===fR;}
function dR(fQ){ return dX(fQ, (fR, fS) => fR.NGetExitAnim(fS));}
function dS(fQ){ const fR=1;return(fQ.DynFlags&fR)===fR;}
function dT(fQ){ return dX(fQ, (fR, fS) => fR.NGetEnterAnim(fS));}
function dU(fQ){ const fR=4;return(fQ.DynFlags&fR)===fR;}
function dV(fQ){ return dX(fQ, (fR, fS) => fR.NGetChangeAnim(fS));}
function dW(fQ, fR){ if(fQ===null)return fR;else if(fR===null)return fQ;else { const fS=ed.A2(fQ, fR);dZ(fS, dM(fQ)|dM(fR));return fS;} }
function dX(fQ, fR){ return dE(b$((fS) => fR(fS, fQ.DynElem), fQ.DynNodes));}
function dY(fQ, fR){ b9((fS) => { fS.NSync(fQ);}, fR.DynNodes);}
function dZ(fQ, fR){ fQ.flags=fR;}
class d0 extends u0031 { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class d1 extends u0031 { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} get AsChoiceView(){ return eg(this.fillWith);} }
class d2 extends u0031 { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class d3 extends u0031 { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function d4(fQ, fR){ return dN((fS) => { fS.addEventListener(fQ, (fT) =>(fR(fS))(fT), false);});}
function d5(fQ){ return ed.A4(fQ);}
function d6(fQ, fR){ return dO(fR, (fS) =>(fT) => fS.setAttribute(fQ, fT));}
function d7(fQ){ return eb(fl(), fQ);}
function d8(fQ){ return eb(fm(), fQ);}
function d9(fQ){ return eb(fn(), fQ);}
function d_(fQ){ return eb(fo(), fQ);}
function d$(fQ){ return eb(fp(), fQ);}
function ea(fQ){ return eb(fq(), fQ);}
function eb(fQ, fR){ const fS=fQ(fR);return ed.Append(dN(fS[0]), ec(fS[1], fS[2]));}
function ec(fQ, fR){ return dO(fR, fQ);}
class ed { static Handler(fQ, fR){ return ed.HandlerImpl(fQ, fR);} static Concat(fQ){ const fR=et(fQ);return er(dP(), ed.Append, fR);} static Create(fQ, fR){ return dN((fS) => { fS.setAttribute(fQ, fR);});} static HandlerImpl(fQ, fR){ return dN((fS) => { fS.addEventListener(fQ, (fT) =>(fR(fS))(fT), false);});} static Append(fQ, fR){ return dW(fQ, fR);} static A4(fQ){ return fO(ed, {$:4, $0:fQ});} static A3(fQ){ return fO(ed, {$:3, $0:fQ});} static A1(fQ){ return fO(ed, {$:1, $0:fQ});} static A2(fQ, fR){ return fO(ed, {$:2, $0:fQ, $1:fR});} }
class ee extends u0031 { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class ef extends u0031 { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function eg(fQ){ return{$:0, $0:fQ};}
function eh(fQ){ return{$:1, $0:fQ};}
class ei { static Cons(fQ, fR){ return fO(ei, {$:1, $0:fQ, $1:fR});} static Empty=fO(ei, {$:0});GetEnumerator(){ return new cE(this, null, (fQ) => { const fR=fQ.s;return fR.$==0?false:(fQ.c=fR.$0,fQ.s=fR.$1,true);}, void 0);} }
function ej(fQ, fR){ return cb(fR).join(fQ);}
function ek(fQ, fR, fS){ return em(fQ, new RegExp("["+en(fR.join(""))+"]"), fS);}
function el(fQ, fR){ return fQ.substring(0, fR.length)==fR;}
function em(fQ, fR, fS){ return fS===1?ca((fT) => fT!=="", eo(fQ, fR)):eo(fQ, fR);}
function en(fQ){ return fQ.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function eo(fQ, fR){ return fQ.split(fR);}
function ep(fQ, fR){ return b2(fQ, eq(fR));}
function eq(fQ){ return fQ==null?"":fQ;}
function er(fQ, fR, fS){ const fT=l(fS);function fU(fV){ return(fW) => { let fX;switch(fW<=0?0:fW===1?fV>=0&&fV<fT?1:(fX=fW,2):(fX=fW,2)){ case 0:return fQ;case 1:return i(fS, fV);case 2:const fY=fW/2>>0;return fR((fU(fV))(fY), (fU(fV+fY))(fW-fY));} };} return(fU(0))(fT);}
function es(fQ, fR, fS, fT){ const fU=l(fT);function fV(fW){ return(fX) => { let fY;switch(fX<=0?0:fX===1?fW>=0&&fW<fU?1:(fY=fX,2):(fY=fX,2)){ case 0:return fR;case 1:return fQ(i(fT, fW));case 2:const fZ=fX/2>>0;return fS((fV(fW))(fZ), (fV(fW+fZ))(fX-fZ));} };} return(fV(0))(fU);}
function et(fQ){ if(fQ instanceof Array)return fQ;else if(fQ instanceof ei)return cd(fQ);else if(fQ===null)return[];else { const fR=[];const fS=cA(fQ);try { while(fS.MoveNext())fR.push(fS.Current);return fR;} finally { if(typeof fS=="object"&&a(fS))fS.Dispose();} } }
class eu { c;s;v;static Create(fQ){ let fR;fR=null;fR=eu.New(fQ, null, () => { let fS;fS=fR.s;return fS===null?(fS=K(fR.c()),fR.s=fS,L(fS, () => { fR.s=null;}),fS):fS;});return fR;} static New(fQ, fR, fS){ return fO(eu, {c:fQ, s:fR, v:fS});} }
class ev extends c { d;GetEnumerator(){ return cA(bT((fQ) => fQ.V, this.d));} constructor(fQ){ super();this.d=fQ;} }
function ew(fQ, fR){ return{PreviousNodes:fQ, Top:fR};}
function ex(){ return ez(new bO("New_3"));}
function ey(fQ){ const fR=[];function fS(fV, fW){ while(true)switch(fV){ case 0:if(fW!=null&&fW.$==0){ const fX=fW.$1;const fY=fW.$0;fS(0, fY);fW=fX;} else if(fW!=null&&fW.$==1){ const fZ=fW.$0;fW=fZ;fV=1;} else if(fW!=null&&fW.$==2){ const f0=fW.$0;fW=f0.Current;} else if(fW!=null&&fW.$==6){ const f1=fW.$0.Holes;return(((f2) =>(f3) => { b9(f2, f3);})(fU))(f1);} else return null;break;case 1:fR.push(fW);fW=fW.Children;fV=0;break;} } function fT(fV){ return fS(0, fV);} function fU(fV){ return fS(1, fV);} fT(fQ);return ez(new bO("New_2", fR));}
function ez(fQ){ return{$:0, $0:fQ};}
function eA(fQ, fR){ return ez(eY(fQ, fR.$0));}
function eB(fQ, fR){ return ez(eZ(fQ.$0, fR.$0));}
function eC(fQ){ return e0(fQ.$0);}
function eD(fQ, fR){ return ez(e1(fQ.$0, fR.$0));}
function eE(){ return eP.UseAnimations;}
function eF(fQ){ return eH(b4((fR) => fR.$==1?bi(fR.$0):null, eR(fQ.$0)));}
function eG(fQ){ b9((fR) => { if(fR.$==0)fR.$0();}, eR(fQ.$0));}
function eH(fQ){ const fR=et(fQ);const fS=l(fR);if(fS===0)return eJ();else if(fS===1)return i(fR, 0);else { const fT=bW(bT((fV) => fV.Duration, fR));const fU=b$((fV) => eL(fT, fV), fR);return eK(fT, (fV) => { b9((fW) => { fW.Compute(fV);}, fU);});} }
function eI(fQ){ return fQ.$0;}
function eJ(fQ){ return eK(0, () => fQ);}
function eK(fQ, fR){ return{Compute:fR, Duration:fQ};}
function eL(fQ, fR){ const fS=fR.Compute;const fT=fR.Duration;const fU=fB(() => fR.Compute(fR.Duration));return{Compute:(fV) => fV>=fT?fU.f():fS(fV), Duration:fQ};}
let eM=fI((fQ) => class fR { static { eM=fQ(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function eN(fQ){ let fR=[];let fS;for(var fT in fQ)fR.push.apply(fR, fQ[fT]);return fR;}
let eO=fI((fQ) => class fR { static { eO=fQ(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const fS=[1, "<table>", "</table>"];let fT=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", fS], ["tbody", fS], ["tfoot", fS], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=fT;this.defaultWrap=[0, "", ""];} });
let eP=fI((fQ) => class fR { static { eP=fQ(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=eX.Custom((fS) => { const fT=fS*fS;return 3*fT-2*(fT*fS);});this.UseAnimations=true;} });
function eQ(fQ, fR){ return fQ.$==0?fR:fR.$==0?fQ:{$:2, $0:fQ, $1:fR};}
function eR(fQ){ const fR=[];function fS(fT){ while(true){ if(fT.$==1)return fR.push(fT.$0);else if(fT.$==2){ const fU=fT.$1;const fV=fT.$0;fS(fV);fT=fU;} else return fT.$==3?b9((fW) => { fR.push(fW);}, fT.$0):null;} } fS(fQ);return fR.slice(0);}
function eS(fQ){ const fR=et(fQ);return er(eT(), eQ, fR);}
function eT(){ return fE.Empty;}
class eU extends c { push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(fQ){ return dF();} NGetEnterAnim(fQ){ return dF();} NGetChangeAnim(fQ){ return dF();} NSync(fQ){ if(this.dirty){(this.push(fQ))(this.value);this.dirty=false;} } constructor(fQ, fR){ super();this.push=fR;this.value=void 0;this.dirty=false;this.updates=c7((fS) => { this.value=fS;this.dirty=true;}, fQ);} }
class eV extends Error { static New(){ return new this("New");} static New_1(fQ){ return new this("New_1", fQ);} constructor(fQ, fR){ if(fQ=="New"){ fQ="New_1";fR="The given key was not present in the dictionary.";} if(fQ=="New_1"){ const fS=fR;super(fS);} } }
let eW=fI((fQ) => class fR { static { eW=fQ(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(f8) =>[(f9) => { f9.addEventListener("change", () => f8.Get()!=f9.checked?f8.Set(f9.checked):null);}, (f9) =>(f_) => f_!=null&&f_.$==1?void(f9.checked=f_.$0):null, c7(bi, f8.View)];this.StringSet=(f8) =>(f9) => { f8.value=f9;};this.StringGet=(f8) => bi(f8.value);const fS=e7();const fT=e6();this.StringApply=(f8) => e5(fS, fT, f8);this.StringListSet=(f8) =>(f9) => { const f_=f8.options;for(let f$=0, ga=f_.length-1;f$<=ga;f$++)((() => { const gb=f_.item(f$);gb.selected=dw(gb.value, f9);})());};this.StringListGet=(f8) => { const f9=f8.selectedOptions;return bi(cb(bU(() => bV((f_) =>[f9.item(f_).value], g(0, f9.length-1)))));};const fU=e9();const fV=e8();this.StringListApply=(f8) => e5(fU, fV, f8);this.DateTimeSetUnchecked=(f8) =>(f9) => { f8.value=(new Date(f9)).toLocaleString();};this.DateTimeGetUnchecked=(f8) => { let f9;let f_;const f$=f8.value;if(fr(f$))return bi(-8640000000000000);else { f9=0;const ga=fz(f$);let gb=ga!=null&&ga.$==1&&(f9=ga.$0,true);f_=[gb, f9];return f_[0]?bi(f_[1]):null;} };const fW=e$();const fX=e_();this.DateTimeApplyUnchecked=(f8) => e5(fW, fX, f8);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(f8) => { const f9=f8.files;return bi(cb(bU(() => bT((f_) => f9.item(f_), g(0, f9.length-1)))));};const fY=fc();const fZ=fb();this.FileApplyUnchecked=(f8) => fa(fY, fZ, f8);this.IntSetUnchecked=(f8) =>(f9) => { f8.value=String(f9);};this.IntGetUnchecked=(f8) => { const f9=f8.value;if(fr(f9))return bi(0);else { const f_=+f9;return f_!==f_>>0?null:bi(f_);} };const f0=fe();const f1=fd();this.IntApplyUnchecked=(f8) => e5(f0, f1, f8);this.IntSetChecked=(f8) =>(f9) => { const f_=f9.Input;return f8.value!=f_?void(f8.value=f_):null;};this.IntGetChecked=(f8) => { let f9;let f_;const f$=f8.value;if(fr(f$))f9=(f8.checkValidity?f8.checkValidity():true)?fs.Blank(f$):fs.Invalid(f$);else { const ga=(f_=0,[cs(f$, {get:() => f_, set:(gb) => { f_=gb;}}), f_]);f9=ga[0]?fs.Valid(ga[1], f$):fs.Invalid(f$);} return bi(f9);};const f2=fg();const f3=ff();this.IntApplyChecked=(f8) => e5(f2, f3, f8);this.FloatSetUnchecked=(f8) =>(f9) => { f8.value=String(f9);};this.FloatGetUnchecked=(f8) => { const f9=f8.value;if(fr(f9))return bi(0);else { const f_=+f9;return isNaN(f_)?null:bi(f_);} };const f4=fi();const f5=fh();this.FloatApplyUnchecked=(f8) => e5(f4, f5, f8);this.FloatSetChecked=(f8) =>(f9) => { const f_=f9.Input;return f8.value!=f_?void(f8.value=f_):null;};this.FloatGetChecked=(f8) => { let f9;const f_=f8.value;if(fr(f_))f9=(f8.checkValidity?f8.checkValidity():true)?fs.Blank(f_):fs.Invalid(f_);else { const f$=+f_;f9=isNaN(f$)?fs.Invalid(f_):fs.Valid(f$, f_);} return bi(f9);};const f6=fk();const f7=fj();this.FloatApplyChecked=(f8) => e5(f6, f7, f8);} });
class eX extends c { transformTime;static Custom(fQ){ return new eX(fQ);} constructor(fQ){ super();this.transformTime=fQ;} }
function eY(fQ, fR){ return new bO("New_2", ca(fQ, e0(fR)));}
function eZ(fQ, fR){ const fS=new bO("New_2", e0(fR));fS.ExceptWith(e0(fQ));return fS;}
function e0(fQ){ const fR=cf(fQ.Count, void 0);fQ.CopyTo(fR, 0);return fR;}
function e1(fQ, fR){ const fS=new bO("New_2", e0(fQ));fS.IntersectWith(e0(fR));return fS;}
function e2(fQ){ return fQ.$==1?fQ.$0:e4();}
function e3(fQ){ return fQ.$==1?fQ.$1:e4();}
function e4(){ return e("The input list was empty.");}
function e5(fQ, fR, fS){ let fT;fT=null;return[(fU) => { const fV=() => { fS.UpdateMaybe((fW) => { let fX;fT=fQ(fU);return fT!=null&&fT.$==1&&(!q(fT.$0, fW)&&(fX=[fT, fT.$0],true))?fX[0]:null;});};fU.addEventListener("change", fV);fU.addEventListener("input", fV);fU.addEventListener("keypress", fV);}, (fU) => { const fV=fR(fU);return(fW) => fW==null?null:fV(fW.$0);}, c7((fU) => { let fV;return fT!=null&&fT.$==1&&(q(fT.$0, fU)&&(fV=fT.$0,true))?null:bi(fU);}, fS.View)];}
function e6(){ return eW.StringSet;}
function e7(){ return eW.StringGet;}
function e8(){ return eW.StringListSet;}
function e9(){ return eW.StringListGet;}
function e_(){ return eW.DateTimeSetUnchecked;}
function e$(){ return eW.DateTimeGetUnchecked;}
function fa(fQ, fR, fS){ let fT;fT=null;return[(fU) => { fU.addEventListener("change", () => { fS.UpdateMaybe((fV) => { let fW;fT=fQ(fU);return fT!=null&&fT.$==1&&(fT.$0!==fV&&(fW=[fT, fT.$0],true))?fW[0]:null;});});}, (fU) => { const fV=fR(fU);return(fW) => fW==null?null:fV(fW.$0);}, c7((fU) => { let fV;return fT!=null&&fT.$==1&&(q(fT.$0, fU)&&(fV=fT.$0,true))?null:bi(fU);}, fS.View)];}
function fb(){ return eW.FileSetUnchecked;}
function fc(){ return eW.FileGetUnchecked;}
function fd(){ return eW.IntSetUnchecked;}
function fe(){ return eW.IntGetUnchecked;}
function ff(){ return eW.IntSetChecked;}
function fg(){ return eW.IntGetChecked;}
function fh(){ return eW.FloatSetUnchecked;}
function fi(){ return eW.FloatGetUnchecked;}
function fj(){ return eW.FloatSetChecked;}
function fk(){ return eW.FloatGetChecked;}
function fl(){ return eW.StringApply;}
function fm(){ return eW.FloatApplyUnchecked;}
function fn(){ return eW.BoolCheckedApply;}
function fo(){ return eW.DateTimeApplyUnchecked;}
function fp(){ return eW.FileApplyUnchecked;}
function fq(){ return eW.StringListApply;}
function fr(fQ){ return ep(fy, fQ);}
class fs { get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(fQ){ return fO(fs, {$:2, $0:fQ});} static Invalid(fQ){ return fO(fs, {$:1, $0:fQ});} static Valid(fQ, fR){ return fO(fs, {$:0, $0:fQ, $1:fR});} }
function ft(fQ, fR){ let fS;if(fR!=null&&fR.$==1){ const fT=[];fS=fR.$0[0].nextSibling;while(fS!==fR.$0[1]){ fT.push(fS);fS=fS.nextSibling;} return fx(fT);} else { let fU=fQ.childNodes.length;const fV=fQ.childNodes;let fW=cg(fU, (fX) => fV[fX]);return fx(fW);} }
function fu(fQ, fR){ const fS=fQ.$0;return fx(ca((fT) => ce((fU) =>!(fT===fU), fS), fR.$0));}
function fv(fQ, fR){ b9(fQ, fR.$0);}
function fw(fQ){ const fR=[];function fS(fT){ while(true){ if(fT!=null&&fT.$==2){ const fU=fT.$0;fT=fU.Current;} else if(fT!=null&&fT.$==1)return fR.push(fT.$0.El);else if(fT==null)return null;else if(fT!=null&&fT.$==5)return fR.push(fT.$0);else if(fT!=null&&fT.$==4)return fR.push(fT.$0.Text);else if(fT!=null&&fT.$==6){ const fV=fT.$0.Els;return(((fY) =>(fZ) => { b9(fY, fZ);})((fY) => { if(fY==null||fY.constructor===Object)fS(fY);else fR.push(fY);}))(fV);} else { const fW=fT.$1;const fX=fT.$0;fS(fX);fT=fW;} } } fS(fQ.Children);return fx(et(fR));}
function fx(fQ){ return{$:0, $0:fQ};}
function fy(fQ){ return fQ.match(new RegExp("\\s"))!==null;}
function fz(fQ){ const fR=Date.parse(fQ);return isNaN(fR)?null:bi(fR);}
function fA(fQ, fR, fS, fT){ const fU=+fQ;const fV=fU===fU-fU%1&&fU>=fR&&fU<=fS;if(fV)fT.set(fU);return fV;}
function fB(fQ){ return fG(false, fQ, fC);}
function fC(){ const fQ=this.v();this.c=true;this.v=fQ;this.f=fD;return fQ;}
function fD(){ return this.v;}
let fE=fI((fQ) => class fR { static { fE=fQ(this);} static Empty;static { this.Empty={$:0};} });
function fF(fQ){ fQ.splice(0, l(fQ));}
function fG(fQ, fR, fS){ return{c:fQ, v:fR, f:fS};}
fP(() => { b();});
fH();

