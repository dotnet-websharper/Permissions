import { Start as fH } from "./WebSharper.Core.JavaScript/Runtime.js"
import { Lazy as fI, MarkResizable as fJ, SetOptional as fK, Force as fL, GetOptional as fM, CreateFuncWithArgs as fN, DeleteEmptyFields as fO, Create as fP, OnLoad as fQ } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(fR){ return"Dispose"in fR;}
function b(){ const fR=d.Create_1("");const fS=globalThis.navigator.permissions;const fT=fR.View;const fU=new m("New_1");const fV=(fU.h.push(n(fU.k, "checkgeolocationpermission", () => fU.i, () => { const f2=null;u0039(u0036(() => { const f3="geolocation";let f4=(fS.query({name:f3}).then((f6) => fR.Set(String(f3)+" permission: "+String(f6.state))))["catch"](() => fR.Set("Permission "+String(f3)+" not supported"));let f5=bg(f4);return u0037(f5, () => u0038(null));}), null);})),fU);const fW=(fV.h.push(n(fV.k, "requestgeolocation", () => fV.i, () => { globalThis.navigator.geolocation.getCurrentPosition((f2) => fR.Set("Latitude: "+String(f2.coords.latitude)+", Longitude: "+String(f2.coords.longitude)), (f2) => fR.Set("Geolocation error: "+String(f2.message)));})),fV);const fX=(fW.h.push(new u0033("status", fT)),fW);const fY=o(fX.k, fX.h, []);const fZ=new h(fY[1], B(fY[0]));let f0=(fX.i=fZ,fZ);const f1=f0.Doc;bj("");bB.RunById("main", f1);}
let c=fI((fR) => class fS { static { c=fR(this);} Equals(fT){ return this===fT;} GetHashCode(){ return -1;} });
let d=fI((fR) => class fS extends c { static { d=fR(this);} static Create_1(fT){ return new E(false, {s:bF(fT, [])}, fT);} static { } });
function e(fR){ throw new Error(fR);}
function f(fR){ return[fR.K, fR.V];}
function g(fR, fS){ const fT=1+fS-fR;return fT<=0?[]:bY(fT, (fU) => fU+fR);}
let h=fI((fR) => class fS extends c { static { h=fR(this);} doc;allVars;anchorRoot;get Doc(){ return this.doc;} SetAnchorRoot(fT){ this.anchorRoot=fT;} constructor(fT, fU){ super();this.doc=fU;this.allVars=fT.$==0?fT.$0:e("Should not happen");this.anchorRoot=null;} });
function i(fR, fS){ k(fR, fS);return fR[fS];}
function j(fR, fS, fT){ k(fR, fS);fR[fS]=fT;}
function k(fR, fS){ if(fS<0||fS>=fR.length)e("Index was outside the bounds of the array.");}
function l(fR){ return fR.dims===2?fR.length*fR.length:fR.length;}
let m=fI((fR) => class fS extends c { static { m=fR(this);} i;k;h;s;static New_1(){ return new this("New_1");} constructor(fT){ if(fT=="New_1"){ let fU;super();this.i=null;this.k=(fU=u0034(),String(fU));this.h=fJ([]);fK(this, "s", null);} } });
function n(fR, fS, fT, fU){ return new u0035(fS, (fV) =>(fW) => { const fX=fT();fX.SetAnchorRoot(fV);return fU({Vars:fX, Anchors:fX, Target:fV, Event:fW});});}
function o(fR, fS, fT){ const fU=new bI("New_5");const fV=new bO("New_3");const fW=cA(fS);try { while(fW.MoveNext()){ const fX=fW.Current;const fY=fX.Name;fV.SAdd(fY);fU.set_Item(fY, fX);} } finally { if(typeof fW=="object"&&a(fW))fW.Dispose();} return[bP(fS, b4((fZ) => { const f0=fZ[0];const f1=fZ[1];const f2=fZ[2];if(fV.Contains(f0))return null;else { const f3=f1===0?ch.GetOrAddHoleFor(fR, f0, () => { const f4=f2==null?null:bi(f2.$0);let f5=d.Create_1(f4==null?"":f4.$0);return new ci(f0, f5);}):f1===1?ch.GetOrAddHoleFor(fR, f0, () => { const f4=f2==null?null:bi(f2.$0);let f5=d.Create_1(f4==null?0:f4.$0);return new cj(f0, f5);}):f1===2?ch.GetOrAddHoleFor(fR, f0, () => { const f4=f2==null?null:bi(f2.$0);let f5=d.Create_1(f4==null?false:f4.$0);return new ck(f0, f5);}):f1===3?ch.GetOrAddHoleFor(fR, f0, () => { const f4=f2==null?null:bi(f2.$0);let f5=d.Create_1(f4==null?-8640000000000000:f4.$0);return new cl(f0, f5);}):f1===4?ch.GetOrAddHoleFor(fR, f0, () => new cm(f0, d.Create_1([]))):f1===5?ch.GetOrAddHoleFor(fR, f0, () => new cn(f0, d.Create_1(bi(globalThis.document.querySelector("[ws-dom="+f0+"]"))))):f1===6?ch.GetOrAddHoleFor(fR, f0, () => { const f4=f2==null?null:bi(f2.$0);let f5=d.Create_1(f4==null?[]:f4.$0);return new co(f0, f5);}):e("Invalid value type");fU.set_Item(f0, f3);return bi(f3);} }, fT)), {$:0, $0:fU}];}
let p=fI((fR) => class fS extends c { static { p=fR(this);} });
function q(fR, fS){ if(fR===fS)return true;else { const fT=typeof fR;if(fT=="object"){ if(fR===null||fR===void 0||fS===null||fS===void 0||!q(typeof fS, "object"))return false;else if("Equals"in fR)return fR.Equals(fS);else if("Equals"in fS)return false;else if(fR instanceof Array&&fS instanceof Array)return r(fR, fS);else if(fR instanceof Date&&fS instanceof Date)return s(fR, fS);else { const fU=[true];let fV;for(var fX in fR)if(((fY) => { fU[0]=!fR.hasOwnProperty(fY)||fS.hasOwnProperty(fY)&&q(fR[fY], fS[fY]);return!fU[0];})(fX))break;if(fU[0]){ let fW;for(var fY in fS)if(((fZ) => { fU[0]=!fS.hasOwnProperty(fZ)||fR.hasOwnProperty(fZ);return!fU[0];})(fY))break;} return fU[0];} } else return fT=="function"&&("$Func"in fR?fR.$Func===fS.$Func&&fR.$Target===fS.$Target:"$Invokes"in fR&&"$Invokes"in fS&&r(fR.$Invokes, fS.$Invokes));} }
function r(fR, fS){ let fT;let fU;if(l(fR)===l(fS)){ fT=true;fU=0;while(fT&&fU<l(fR)){!q(i(fR, fU), i(fS, fU))?fT=false:void 0;fU=fU+1;} return fT;} else return false;}
function s(fR, fS){ return fR.getTime()===fS.getTime();}
function t(fR){ const fS=typeof fR;return fS=="function"?0:fS=="boolean"?fR?1:0:fS=="number"?fR:fS=="string"?u(fR):fS=="object"?fR==null?0:fR instanceof Array?v(fR):w(fR):0;}
function u(fR){ let fS;if(fR===null)return 0;else { fS=5381;for(let fT=0, fU=fR.length-1;fT<=fU;fT++)fS=x(fS, fR[fT].charCodeAt());return fS;} }
function v(fR){ let fS=-34948909;for(let fT=0, fU=l(fR)-1;fT<=fU;fT++)fS=x(fS, t(i(fR, fT)));return fS;}
function w(fR){ if("GetHashCode"in fR)return fR.GetHashCode();else { const fS=[0];let fT;for(var fU in fR)if(((fV) => { fS[0]=x(x(fS[0], u(fV)), t(fR[fV]));return false;})(fU))break;return fS[0];} }
function x(fR, fS){ return(fR<<5)+fR+fS;}
function y(fR, fS){ if(fR===fS)return 0;else { const fT=typeof fR;switch(fT=="function"?1:fT=="boolean"?2:fT=="number"?2:fT=="string"?2:fT=="object"?3:0){ case 0:return typeof fS=="undefined"?0:-1;case 1:return e("Cannot compare function values.");case 2:return fR<fS?-1:1;case 3:if(fR===null)return -1;else if(fS===null)return 1;else if("CompareTo"in fR)return fR.CompareTo(fS);else if("CompareTo0"in fR)return fR.CompareTo0(fS);else if(fR instanceof Array&&fS instanceof Array)return z(fR, fS);else if(fR instanceof Date&&fS instanceof Date)return A(fR, fS);else { const fU=[0];let fV;for(var fX in fR)if(((fY) =>!fR.hasOwnProperty(fY)?false:!fS.hasOwnProperty(fY)?(fU[0]=1,true):(fU[0]=y(fR[fY], fS[fY]),fU[0]!==0))(fX))break;if(fU[0]===0){ let fW;for(var fY in fS)if(((fZ) =>!fS.hasOwnProperty(fZ)?false:!fR.hasOwnProperty(fZ)&&(fU[0]=-1,true))(fY))break;} return fU[0];} break;} } }
function z(fR, fS){ let fT;let fU;if(l(fR)<l(fS))return -1;else if(l(fR)>l(fS))return 1;else { fT=0;fU=0;while(fT===0&&fU<l(fR)){ fT=y(i(fR, fU), i(fS, fU));fU=fU+1;} return fT;} }
function A(fR, fS){ return y(fR.getTime(), fS.getTime());}
function B(fR){ bj("index");return fR?bk("index", bi("main"), fR):void 0;}
function C(fR){ let fS=[];let fT;for(var fU in fR)fS.push(fR[fU]);return fS;}
function D(fR){ const fS={};const fT=cA(fR);try { while(fT.MoveNext()){ const fU=fT.Current;fS[fU[0]]=fU[1];} } finally { if(typeof fT=="object"&&a(fT))fT.Dispose();} return fS;}
let E=fI((fR) => { fL(p);return class fS extends p { static { E=fR(this);} isConst;current;snap;view;id;get View(){ return this.view;} Set(fT){ if(this.isConst)(((fU) => fU("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fU) => { console.log(fU);}));else { cq(this.snap);this.current=fT;this.snap={s:bF(fT, [])};} } SetFinal(fT){ if(this.isConst)(((fU) => fU("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fU) => { console.log(fU);}));else { cq(this.snap);this.isConst=true;this.current=fT;this.snap={s:bG(fT)};} } Get(){ return this.current;} UpdateMaybe(fT){ const fU=fT(this.Get());if(fU!=null&&fU.$==1)this.Set(fU.$0);} constructor(fT, fU, fV){ super();this.isConst=fT;this.current=fV;this.snap=fU;this.view=() => this.snap;this.id=bC();} };});
function F(fR, fS, fT){ const fU=fR.s;if(fU==null)fT();else fU!=null&&fU.$==2?(fU.$1.push(fT),fS(fU.$0)):fU!=null&&fU.$==3?(fU.$0.push(fS),fU.$1.push(fT)):fS(fU.$0);}
function G(fR, fS){ const fT=fS.s;if(fT!=null&&fT.$==0)return{s:bG(fR(fT.$0))};else { const fU={s:bH([], [])};N(fS, (fV) => { O(fU, fS, fR(fV));}, fU);return fU;} }
function H(fR, fS, fT, fU){ const fV=fS.s;const fW=fT.s;const fX=fU.s;if(fV!=null&&fV.$==0)return fW!=null&&fW.$==0?fX!=null&&fX.$==0?{s:bG(fR(fV.$0, fW.$0, fX.$0))}:P(fR, fV.$0, fW.$0, fU):fX!=null&&fX.$==0?Q(fR, fV.$0, fX.$0, fT):R(fR, fV.$0, fT, fU);else if(fW!=null&&fW.$==0)return fX!=null&&fX.$==0?S(fR, fW.$0, fX.$0, fS):T(fR, fW.$0, fS, fU);else if(fX!=null&&fX.$==0)return U(fR, fX.$0, fS, fT);else { const fY={s:bH([], [])};const fZ=() => { const f0=fY.s;if(!(f0!=null&&f0.$==0||f0!=null&&f0.$==2)){ const f1=V(fS);const f2=V(fT);const f3=V(fU);if(f1!=null&&f1.$==1)if(f2!=null&&f2.$==1)if(f3!=null&&f3.$==1)if(f1.$0[1]&&f2.$0[1]&&f3.$0[1])W(fY, fR(f1.$0[0], f2.$0[0], f3.$0[0]));else X(fY, fR(f1.$0[0], f2.$0[0], f3.$0[0]));} };N(fS, fZ, fY);N(fT, fZ, fY);N(fU, fZ, fY);return fY;} }
function I(fR){ const fS=cb(fR);if(fS.length==0)return{s:bG([])};else { const fT={s:bH([], [])};const fU=[l(fS)-1];const fV=() => { if(fU[0]===0){ const fW=b$((fX) => { const fY=fX.s;return fY!=null&&fY.$==0?fY.$0:fY!=null&&fY.$==2?fY.$0:e("value not found by View.Sequence");}, fS);if(ce((fX) => { const fY=fX.s;return fY!=null&&fY.$==0;}, fS))W(fT, fW);else X(fT, fW);} else fU[0]=fU[0]-1;};b9((fW) => { N(fW, fV, fT);}, fS);return fT;} }
function J(fR, fS, fT){ const fU=fS.s;const fV=fT.s;if(fU!=null&&fU.$==0)return fV!=null&&fV.$==0?{s:bG(fR(fU.$0, fV.$0))}:Y(fR, fU.$0, fT);else if(fV!=null&&fV.$==0)return Z(fR, fV.$0, fS);else { const fW={s:bH([], [])};const fX=() => { const fY=fW.s;if(!(fY!=null&&fY.$==0||fY!=null&&fY.$==2)){ const fZ=V(fS);const f0=V(fT);if(fZ!=null&&fZ.$==1)if(f0!=null&&f0.$==1)if(fZ.$0[1]&&f0.$0[1])W(fW, fR(fZ.$0[0], f0.$0[0]));else X(fW, fR(fZ.$0[0], f0.$0[0]));} };N(fS, fX, fW);N(fT, fX, fW);return fW;} }
function K(fR, fS){ const fT=fR.s;const fU=fS.s;if(fT!=null&&fT.$==0)return fU!=null&&fU.$==0?{s:bG(null)}:fS;else if(fU!=null&&fU.$==0)return fR;else { const fV={s:bH([], [])};const fW=() => { const fX=fV.s;if(!(fX!=null&&fX.$==0||fX!=null&&fX.$==2)){ const fY=V(fR);const fZ=V(fS);if(fY!=null&&fY.$==1)if(fZ!=null&&fZ.$==1)if(fY.$0[1]&&fZ.$0[1])W(fV, null);else X(fV, null);} };N(fR, fW, fV);N(fS, fW, fV);return fV;} }
function L(fR){ const fS=fR.s;if(fS==null)return fR;else if(fS!=null&&fS.$==2){ const fT={s:bF(fS.$0, [])};u0030(fR, fT);return fT;} else if(fS!=null&&fS.$==3){ const fU={s:bH([], [])};N(fR, (fV) => { O(fU, fR, fV);}, fU);return fU;} else return fR;}
function M(fR, fS){ const fT=fR.s;if(fT==null)fS();else fT!=null&&fT.$==2?fT.$1.push(fS):fT!=null&&fT.$==3?fT.$1.push(fS):void 0;}
function N(fR, fS, fT){ const fU=fR.s;if(fU==null)cq(fT);else fU!=null&&fU.$==2?(u0031(fU.$1, fT),fS(fU.$0)):fU!=null&&fU.$==3?(fU.$0.push(fS),u0031(fU.$1, fT)):fS(fU.$0);}
function O(fR, fS, fT){ const fU=fS.s;if(fU!=null&&fU.$==0)W(fR, fT);else X(fR, fT);}
function P(fR, fS, fT, fU){ return G((fV) => fR(fS, fT, fV), fU);}
function Q(fR, fS, fT, fU){ return G((fV) => fR(fS, fV, fT), fU);}
function R(fR, fS, fT, fU){ return J((fV, fW) => fR(fS, fV, fW), fT, fU);}
function S(fR, fS, fT, fU){ return G((fV) => fR(fV, fS, fT), fU);}
function T(fR, fS, fT, fU){ return J((fV, fW) => fR(fV, fS, fW), fT, fU);}
function U(fR, fS, fT, fU){ return J((fV, fW) => fR(fV, fW, fS), fT, fU);}
function V(fR){ const fS=fR.s;return fS!=null&&fS.$==0?bi([fS.$0, true]):fS!=null&&fS.$==2?bi([fS.$0, false]):null;}
function W(fR, fS){ const fT=fR.s;if(fT!=null&&fT.$==3){ fR.s=bG(fS);const fU=fT.$0;for(let fV=0, fW=l(fU)-1;fV<=fW;fV++)(i(fU, fV))(fS);} else void 0;}
function X(fR, fS){ const fT=fR.s;if(fT!=null&&fT.$==3){ fR.s=bF(fS, fT.$1);const fU=fT.$0;for(let fV=0, fW=l(fU)-1;fV<=fW;fV++)(i(fU, fV))(fS);} else void 0;}
function Y(fR, fS, fT){ return G((fU) => fR(fS, fU), fT);}
function Z(fR, fS, fT){ return G((fU) => fR(fU, fS), fT);}
function u0030(fR, fS){ const fT=fR.s;if(fT==null)cq(fS);else fT!=null&&fT.$==2?u0031(fT.$1, fS):fT!=null&&fT.$==3?u0031(fT.$1, fS):void 0;}
function u0031(fR, fS){ fR.push(fS);if(fR.length%20===0){ const fT=fR.slice(0);fF(fR);for(let fV=0, fW=l(fT)-1;fV<=fW;fV++){ const fU=i(fT, fV);if(typeof fU=="object")(((fX) => { if(fX.s)fR.push(fX);})(fU));else(((fX) => { fR.push(fX);})(fU));} } else void 0;}
let u0032=fI((fR) => class fS extends c { static { u0032=fR(this);} ForTextView(){ console.warn("Content hole filled with attribute data", this.Name);return null;} AddAttribute(fT, fU){ console.warn("Var hole filled with non-Var data", this.Name);} get AsChoiceView(){ console.warn("Attribute value hole filled with non-text data", this.Name);return eg("");} });
let u0033=fI((fR) => { fL(u0032);return class fS extends u0032 { static { u0033=fR(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return bi(this.fillWith);} get AsChoiceView(){ return eh(this.fillWith);} constructor(fT, fU){ super();this.name=fT;this.fillWith=fU;} };});
function u0034(){ return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]", "g"), (fR) => { const fS=Math.random()*16|0;const fT=fR=="x"?fS:fS&3|8;return fT.toString(16);});}
let u0035=fI((fR) => { fL(u0032);return class fS extends u0032 { static { u0035=fR(this);} name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fT, fU){ super();this.name=fT;this.fillWith=fU;} };});
function u0036(fR){ return(fS) => { try {(fR())(fS);} catch(fT){ fS.k(bK(fT));} };}
function u0037(fR, fS){ return $((fT) => { fR(bJ((fU) => { if(fU.$==0){ const fV=fU.$0;bd().Fork(() => { try {(fS(fV))(fT);} catch(fW){ fT.k(bK(fW));} });} else bd().Fork(() => { fT.k(fU);});}, fT.ct));});}
function u0038(fR){ return(fS) => { fS.k(bL(fR));};}
function u0039(fR, fS){ const fT=(ba())[0];const fU=fS==null?fT:fS.$0;bd().Fork(() => { if(!fU.c)fR(bJ((fV) => { if(fV.$==1)bb(fV.$0);}, fU));});}
function $(fR){ return(fS) => { if(fS.ct.c)bc(fS);else fR(fS);};}
function ba(){ return cy.defCTS;}
function bb(fR){ console.log("WebSharper: Uncaught asynchronous exception", fR);}
function bc(fR){ fR.k(bM(new c2("New", fR.ct)));}
function bd(){ return cy.scheduler;}
function be(fR){ return(fS) => { const fT=[false];const fU=(fV) => { if(fT[0])e("A continuation provided by Async.FromContinuations was invoked multiple times");else { fT[0]=true;bd().Fork(fV);} };fR((fV) => { fU(() => { fS.k(bL(fV));});}, (fV) => { fU(() => { fS.k(bK(fV));});}, (fV) => { fU(() => { fS.k(bM(fV));});});};}
function bf(){ return cy.Zero;}
function bg(fR){ return be((fS, fT) => { fR.then(fS, (fU) => fT(bh(fU)));});}
function bh(fR){ return fR instanceof Error?fR:new cx(fR);}
function bi(fR){ return{$:1, $0:fR};}
function bj(fR){!bl()?(bm(true),bn(globalThis.document.body, "")):void 0;bo().set_Item(fR, bp(""));}
function bk(fR, fS, fT){ let fU;const fV=(fU=null,[bp(fR).TryGetValue(fS==null?"":fS.$0, {get:() => fU, set:(fW) => { fU=fW;}}), fU]);return fV[0]?bq(fV[1].cloneNode(true), fT):(console.warn("Local template doesn't exist", fS),bB.Empty);}
function bl(){ return cF.LocalTemplatesLoaded;}
function bm(fR){ cF.LocalTemplatesLoaded=fR;}
function bn(fR, fS){ const fT=bp(fS);const fU=new bI("New_5");const fV=fR.querySelectorAll("[ws-template]");for(let f7=0, f8=fV.length-1;f7<=f8;f7++){ const fW=fV[f7];const fX=fW.getAttribute("ws-template").toLowerCase();fW.removeAttribute("ws-template");fU.set_Item(fX, br(fW));} const fY=fR.querySelectorAll("[ws-children-template]");for(let f9=0, f_=fY.length-1;f9<=f_;f9++){ const fZ=fY[f9];const f0=fZ.getAttribute("ws-children-template").toLowerCase();fZ.removeAttribute("ws-children-template");fU.set_Item(f0, bs(fZ));} const f1=fR.querySelectorAll("template[id]");for(let f$=0, ga=f1.length-1;f$<=ga;f$++){ const f2=f1[f$];fU.set_Item(f2.getAttribute("id").toLowerCase(), bt(f2));} const f3=fR.querySelectorAll("template[name]");for(let gb=0, gc=f3.length-1;gb<=gc;gb++){ const f4=f3[gb];fU.set_Item(f4.getAttribute("name").toLowerCase(), bt(f4));} const f5=new bO("New_3");function f6(gd){ if(!fT.ContainsKey(gd)){ let ge;const gf=(ge=null,[fU.TryGetValue(gd, {get:() => ge, set:(gg) => { ge=gg;}}), ge]);if(gf[0]){ f5.SAdd(gd);fU.RemoveKey(gd);bu(fS, bi(gd), gf[1], bi(f6));} else console.warn(f5.Contains(gd)?"Encountered loop when instantiating "+gd:"Local template does not exist: "+gd);} } while(fU.count>0)f6(bQ(fU.Keys));}
function bo(){ return cF.LoadedTemplates;}
function bp(fR){ let fS;const fT=(fS=null,[bo().TryGetValue(fR, {get:() => fS, set:(fV) => { fS=fV;}}), fS]);if(fT[0])return fT[1];else { const fU=new bI("New_5");bo().set_Item(fR, fU);return fU;} }
function bq(fR, fS){ let fT;const fU=bv(fR, bP(fS, bw().Values));const fV=fU[1];const fW=fU[0];const fX=fW.Els;return!q(fX, null)&&fX.length===1&&(i(fX, 0)instanceof Node&&(q(i(fX, 0).nodeType, Node.ELEMENT_NODE)&&(fT=i(fX, 0),true)))?c4.TreeNode(fW, fV):bB.Mk(ct(fW), fV);}
function br(fR){ fR.removeAttribute("ws-template");const fS=fR.getAttribute("ws-replace");if(fS==null){ } else { fR.removeAttribute("ws-replace");const fT=fR.parentNode;if(q(fT, null)){ } else { const fU=globalThis.document.createElement(fR.tagName);fU.setAttribute("ws-replace", fS);fT.replaceChild(fU, fR);} } const fV=globalThis.document.createElement("div");fV.appendChild(fR);return fV;}
function bs(fR){ const fS=globalThis.document.createElement("div");while(fR.hasChildNodes())fS.appendChild(fR.firstChild);return fS;}
function bt(fR){ const fS=globalThis.document.createElement("div");const fT=fR.content;for(let fU=0, fV=fT.childNodes.length-1;fU<=fV;fU++)fS.appendChild(fT.childNodes[fU].cloneNode(true));return fS;}
function bu(fR, fS, fT, fU){ const fV=new bO("New_3");function fW(f3, f4){ while(true)switch(f3){ case 0:if(f4!==null){ const f5=f4.nextSibling;if(q(f4.nodeType, Node.TEXT_NODE))db(f4);else if(q(f4.nodeType, Node.ELEMENT_NODE))fY(f4);f4=f5;} else return null;break;case 1:const f6=dj(f4.nodeName, bi(3), null).toLowerCase();const f7=f6.indexOf(".");const f8=f7===-1?[fR, f6]:[dj(f6, null, bi(f7-1)), dj(f6, bi(f7+1), null)];const f9=f8[1];const f_=f8[0];if(f_!=""&&!bo().ContainsKey(f_))return dc(f9);else { if(f_==""&&fU!=null)fU.$0(f9);const f$=bo().Item(f_);if(!f$.ContainsKey(f9))return dc(f9);else { const ga=f$.Item(f9);const gb=ga.cloneNode(true);const gc=new bO("New_3");const gd=new bI("New_5");const ge=f4.attributes;for(let go=0, gp=ge.length-1;go<=gp;go++){ const gf=ge.item(go).name.toLowerCase();const gg=ge.item(go).nodeValue;let gh=gg==""?gf:gg.toLowerCase();gd.set_Item(gf, gh);if(!gc.SAdd(gf))console.warn("Hole mapped twice", gf);} for(let gq=0, gr=f4.childNodes.length-1;gq<=gr;gq++){ const gi=f4.childNodes[gq];if(q(gi.nodeType, Node.ELEMENT_NODE))if(!gc.SAdd(gi.nodeName.toLowerCase()))console.warn("Hole filled twice", f9);} const gj=f4.childNodes.length===1&&q(f4.firstChild.nodeType, Node.TEXT_NODE);if(gj){ const gk=dd(gb, f4.firstChild.textContent, f9);const gl=((gs) =>(gt) => gs.SAdd(gt))(gc);let gm=((gs) =>(gt) => { if(gt!=null)gs(gt.$0);})((gs) => { gl(gs);});gm(gk);} de(gb, gc);if(!gj){ for(let gs=0, gt=f4.childNodes.length-1;gs<=gt;gs++){ const gn=f4.childNodes[gs];if(q(gn.nodeType, Node.ELEMENT_NODE))if(gn.hasAttributes())df(gb, gn);else fX(gb, gn);} } dg(gb, gd);dh(gb, f4.parentNode, f4);f4.parentNode.removeChild(f4);return;} } break;} } function fX(f3, f4){ const f5=f4.nodeName.toLowerCase();const f6=(f_, f$) => { if(f5=="title"&&f4.hasChildNodes()){ const ga=dk(f4.textContent);f4.removeChild(f4.firstChild);while(ga.hasChildNodes())f4.appendChild(ga.firstChild);} fY(f4);return dh(f4, f_, f$);};bx(f3, "[ws-attr-holes]", (f_) => { const f$=ek(f_.getAttribute("ws-attr-holes"), [" "], 1);for(let gd=0, ge=f$.length-1;gd<=ge;gd++){ const ga=i(f$, gd);let gb=new RegExp("\\${"+f5+"}", "ig");let gc=f_.getAttribute(ga).replace(gb, f4.textContent);f_.setAttribute(ga, gc);} });const f7=f3.querySelector("[ws-hole="+f5+"]");if(q(f7, null)){ const f8=f3.querySelector("[ws-replace="+f5+"]");if(q(f8, null)){ const f9=f3.querySelector("slot[name="+f5+"]");return f3.tagName.toLowerCase()=="template"?(f6(f9.parentNode, f9),void f9.parentNode.removeChild(f9)):null;} else { f6(f8.parentNode, f8);f8.parentNode.removeChild(f8);return;} } else { while(f7.hasChildNodes())f7.removeChild(f7.lastChild);f7.removeAttribute("ws-hole");return f6(f7, null);} } function fY(f3){ if(!f3.hasAttribute("ws-preserve"))if(el(f3.nodeName.toLowerCase(), "ws-"))f0(f3);else { di(f3);fZ(f3.firstChild);} } function fZ(f3){ return fW(0, f3);} function f0(f3){ return fW(1, f3);} function f1(f3){ while(true){ const f4=f3.querySelector("[ws-template]");if(q(f4, null)){ const f5=f3.querySelector("[ws-children-template]");if(q(f5, null)){ const f6=f3.querySelectorAll("template[id]");for(let ga=1, gb=f6.length-1;ga<=gb;ga++){ const f7=f6[ga];if(fV.Contains(f7)){ } else { bu(fR, bi(f7.getAttribute("id")), f7, null);fV.SAdd(f7);} } const f8=f3.querySelectorAll("template[name]");for(let gc=1, gd=f8.length-1;gc<=gd;gc++){ const f9=f8[gc];if(fV.Contains(f9)){ } else { bu(fR, bi(f9.getAttribute("name")), f9, null);fV.SAdd(f9);} } return null;} else { const f_=f5.getAttribute("ws-children-template");f5.removeAttribute("ws-children-template");bu(fR, bi(f_), f5, null);f3=f3;} } else { const f$=f4.getAttribute("ws-template");(by(fR, bi(f$), f4))(null);f3=f3;} } } const f2=(fS==null?"":fS.$0).toLowerCase();bp(fR).set_Item(f2, fT);if(fT.hasChildNodes()){ f1(fT);fZ(fT.firstChild);} }
function bv(fR, fS){ let fT;const fU=[];const fV=[];const fW=[];const fX=[];const fY=new bI("New_5");const fZ=cA(fS);try { while(fZ.MoveNext()){ const f0=fZ.Current;fY.set_Item(f0.Name, f0);} } finally { if(typeof fZ=="object"&&a(fZ))fZ.Dispose();} let f1=dl(fR);const f2=(f$, ga) => { const gb=dJ(f$, ga);fV.push(dK(gb));fW.push([f$, gb]);const gc=fM(gb.OnAfterRender);if(gc==null)return null;else { const gd=gc.$0;fX.push(() => { gd(f$);});return;} };const f3=(f$) => { let ga;const gb=(ga=null,[fY.TryGetValue(f$, {get:() => ga, set:(ge) => { ga=ge;}}), ga]);if(gb[0]){ const gc=gb[1];if(gc instanceof d0)return bi(gc.Value);else if(gc instanceof d1)return bi(bB.TextNode(gc.Value));else { const gd=gc.ForTextView();return gd==null?null:bi(bB.TextView(gd.$0));} } else return null;};bx(fR, "[ws-hole]", (f$) => { const ga=f$.getAttribute("ws-hole");f$.removeAttribute("ws-hole");while(f$.hasChildNodes())f$.removeChild(f$.lastChild);const gb=f3(ga);if(gb!=null&&gb.$==1){ const gc=gb.$0;cG(f$, gc.docNode);fU.push(c1.New(dL(f$), gc.docNode, null, f$, bC(), null));fV.push(gc.updates);} });bx(fR, "[ws-replace]", (f$) => { const ga=f3(f$.getAttribute("ws-replace"));if(ga!=null&&ga.$==1){ const gb=ga.$0;const gc=f$.parentNode;const gd=globalThis.document.createTextNode("");gc.replaceChild(gd, f$);const ge=cL(gd, gb.docNode);f1=dl(fR);const gf=b5((gg) => f$===gg, f1);if(gf==null){ } else j(f1, gf.$0, gb.docNode);fU.push(c1.New(dL(gc), gb.docNode, bi([ge, gd]), gc, bC(), null));fV.push(gb.updates);} });let f4=false;bx(fR, "slot", (f$) => { const ga=f$.getAttribute("name");const gb=ga==""||ga==null?"default":ga.toLowerCase();if(f4&&gb=="default"||!q(fR.parentElement, null)){ } else { while(f$.hasChildNodes())f$.removeChild(f$.lastChild);if(gb=="default")f4=true;const gc=f3(gb);if(gc!=null&&gc.$==1){ const gd=gc.$0;cG(f$, gd.docNode);fU.push(c1.New(dL(f$), gd.docNode, null, f$, bC(), null));fV.push(gd.updates);} } });bx(fR, "[ws-attr]", (f$) => { let ga;const gb=f$.getAttribute("ws-attr");f$.removeAttribute("ws-attr");const gc=(ga=null,[fY.TryGetValue(gb, {get:() => ga, set:(ge) => { ga=ge;}}), ga]);if(gc[0]){ const gd=gc[1];if(gd instanceof d2)f2(f$, gd.Value);else console.warn("Attribute hole filled with non-attribute data", gb);} });bx(fR, "[ws-on]", (f$) => { f2(f$, ed.Concat(b4((ga) => { let gb;const gc=ek(ga, [":"], 1);const gd=(gb=null,[fY.TryGetValue(i(gc, 1), {get:() => gb, set:(gf) => { gb=gf;}}), gb]);if(gd[0]){ const ge=gd[1];return ge instanceof d3?bi(d4(i(gc, 0), ge.Value)):ge instanceof u0035?bi(ed.Handler(i(gc, 0), ge.Value)):(console.warn("Event hole on"+i(gc, 0)+" filled with non-event data", i(gc, 1)),null);} else return null;}, ek(f$.getAttribute("ws-on"), [" "], 1))));f$.removeAttribute("ws-on");});bx(fR, "[ws-onafterrender]", (f$) => { let ga;const gb=f$.getAttribute("ws-onafterrender");const gc=(ga=null,[fY.TryGetValue(gb, {get:() => ga, set:(ge) => { ga=ge;}}), ga]);if(gc[0]){ const gd=gc[1];if(gd instanceof ee){ f$.removeAttribute("ws-onafterrender");f2(f$, d5(gd.Value));} else if(gd instanceof ef){ f$.removeAttribute("ws-onafterrender");f2(f$, d5(gd.Value));} else console.warn("onafterrender hole filled with non-onafterrender data", gb);} });bx(fR, "[ws-var]", (f$) => { let ga;const gb=f$.getAttribute("ws-var");f$.removeAttribute("ws-var");const gc=(ga=null,[fY.TryGetValue(gb, {get:() => ga, set:(gd) => { ga=gd;}}), ga]);if(gc[0])gc[1].AddAttribute((gd) =>(ge) => f2(gd, ge), f$);});const f5=() => { bz("[ws-dom]", (f$) => { let ga;let gb;let gc;const gd=(ga=null,[fY.TryGetValue(f$.getAttribute("ws-dom").toLowerCase(), {get:() => ga, set:(gh) => { ga=gh;}}), ga]);if(gd[0]){ const ge=gd[1];if(ge instanceof cn){ const gf=ge.Value;f$.removeAttribute("ws-dom");gb=f$;const gg=new MutationObserver((gh, gi) => { b9((gj) => { gj.removedNodes.forEach(fN((gk) => gk[0]===gb&&gj.addedNodes.length!==1?(gf.SetFinal(null),gi.disconnect()):null), null);}, gh);});if(f$.parentElement!==null)gg.observe(f$.parentElement, (gc={},gc.childList=true,gc));gf.Set(bi(f$));c6((gh) => { if(gh!=null&&gh.$==1){ const gi=gh.$0;if(gb===gi){ } else { gb.replaceWith(gi);gb=gi;} } else { gb.remove();gg.disconnect();} }, gf.View);} } });};bx(fR, "[ws-attr-holes]", (f$) => { const ga=new RegExp(bA(), "g");const gb=ek(f$.getAttribute("ws-attr-holes"), [" "], 1);f$.removeAttribute("ws-attr-holes");for(let gc=0, gd=gb.length-1;gc<=gd;gc++)((() => { let ge;const gf=i(gb, gc);const gg=f$.getAttribute(gf);let gh=null;let gi=0;const gj=[];while(gh=ga.exec(gg),gh!==null){ const gk=dj(gg, bi(gi), bi(ga.lastIndex-i(gh, 0).length-1));gi=ga.lastIndex;gj.push([gk, i(gh, 1)]);} const gl=dj(gg, bi(gi), null);ga.lastIndex=0;const gm=b_((gr, gs) =>(((gt) => { const gu=gt[0];const gv=gt[1];return(gw) => { let gx;const gy=gw[0];const gz=gw[1];const gA=(gx=null,[fY.TryGetValue(gv, {get:() => gx, set:(gC) => { gx=gC;}}), gx]);const gB=gA[0]?gA[1].AsChoiceView:eg("");return gB.$==1?[gu, ei.Cons(gy==""?gB.$0:c7((gC) => gC+gy, gB.$0), gz)]:[gu+gB.$0+gy, gz];};})(gr))(gs), gj, [gl, ei.Empty]);if(gm[1].$==1){ if(gm[1].$1.$==1){ if(gm[1].$1.$1.$==1){ if(gm[1].$1.$1.$1.$==0){ const gn=gm[0];ge=d6(gf, c8((gr, gs, gt) => gn+gr+gs+gt, gm[1].$0, gm[1].$1.$0, gm[1].$1.$1.$0));} else { const go=gm[0];ge=d6(gf, c7((gr) => go+ej("", gr), c9(gm[1])));} } else { const gp=gm[0];ge=d6(gf, c_((gr, gs) => gp+gr+gs, gm[1].$0, gm[1].$1.$0));} } else if(gm[0]=="")ge=d6(gf, gm[1].$0);else { const gq=gm[0];ge=d6(gf, c7((gr) => gq+gr, gm[1].$0));} } else ge=ed.Create(gf, gm[0]);return f2(f$, ge);})());});let f6=f1;const f7=fX.length==0?bi(() => { f5();}):bi((f$) => { f5();b9((ga) => { ga(f$);}, fX);});const f8=!q(f1, null)&&f1.length===1&&(i(f1, 0)instanceof Node&&(i(f1, 0)instanceof Element&&(fT=i(f1, 0),true)))?bi(fT):null;let f9={Els:f6, Dirty:true, Holes:fU, Attrs:fW, Render:f7?f7.$0:void 0, El:f8?f8.$0:void 0};let f_=fO(f9, ["Render", "El"]);return[f_, er(c5(), c$, fV)];}
function bw(){ return cF.GlobalHoles;}
function bx(fR, fS, fT){ dr(fR, fS, (fU) => { if(fU.closest("[ws-preserve]")==null)fT(fU);});}
function by(fR, fS, fT){ const fU=br(fT);return(fV) => { bu(fR, fS, fU, fV);};}
function bz(fR, fS){ ds(fR, (fT) => { if(fT.closest("[ws-preserve]")==null)fS(fT);});}
function bA(){ return cF.TextHoleRE;}
let bB=fI((fR) => class fS extends c { static { bB=fR(this);} docNode;updates;static RunById(fT, fU){ const fV=globalThis.document.getElementById(fT);if(q(fV, null))e("invalid id: "+fT);else bB.Run(fV, fU);} static Run(fT, fU){ cG(fT, fU.docNode);bB.RunInPlace(false, fT, fU);} static get Empty(){ return bB.Mk(null, c5());} static RunInPlace(fT, fU, fV){ const fW=cI(fU, fV.docNode);c6(dz()||dG()?dH(cJ(fT, fW, fV.docNode)):() => { cK(fT, fW, fV.docNode);}, fV.updates);} static Mk(fT, fU){ return new fS(fT, fU);} static TextNode(fT){ return bB.Mk(cu(globalThis.document.createTextNode(fT)), c5());} static TextView(fT){ const fU=cT();return bB.Mk(cv(fU), c7((fV) => { cU(fU, fV);}, fT));} constructor(fT, fU){ super();this.docNode=fT;this.updates=fU;} });
function bC(){ bD(bE()+1);return bE();}
function bD(fR){ c0.counter=fR;}
function bE(){ return c0.counter;}
function bF(fR, fS){ return{$:2, $0:fR, $1:fS};}
function bG(fR){ return{$:0, $0:fR};}
function bH(fR, fS){ return{$:3, $0:fR, $1:fS};}
let bI=fI((fR) => class fS extends c { static { bI=fR(this);} equals;hash;count;data;set_Item(fT, fU){ this.set(fT, fU);} set(fT, fU){ const fV=this.hash(fT);const fW=this.data[fV];if(fW==null){ this.count=this.count+1;this.data[fV]=new Array({K:fT, V:fU});} else { const fX=b5((fY) => this.equals.apply(null, [(f(fY))[0], fT]), fW);if(fX==null){ this.count=this.count+1;fW.push({K:fT, V:fU});} else fW[fX.$0]={K:fT, V:fU};} } TryGetValue(fT, fU){ const fV=this.data[this.hash(fT)];if(fV==null)return false;else { const fW=b6((fX) => { const fY=f(fX);return this.equals.apply(null, [fY[0], fT])?bi(fY[1]):null;}, fV);return fW!=null&&fW.$==1&&(fU.set(fW.$0),true);} } ContainsKey(fT){ const fU=this.data[this.hash(fT)];return fU==null?false:b7((fV) => this.equals.apply(null, [(f(fV))[0], fT]), fU);} RemoveKey(fT){ return this.remove(fT);} get Keys(){ return new dy(this);} GetEnumerator(){ return cD(b8(C(this.data)));} get Values(){ return new ev(this);} remove(fT){ const fU=this.hash(fT);const fV=this.data[fU];if(fV==null)return false;else { const fW=ca((fX) =>!this.equals.apply(null, [(f(fX))[0], fT]), fV);return l(fW)<fV.length&&(this.count=this.count-1,this.data[fU]=fW,true);} } Item(fT){ return this.get(fT);} get(fT){ const fU=this.data[this.hash(fT)];return fU==null?cz():cc((fV) => { const fW=f(fV);return this.equals.apply(null, [fW[0], fT])?bi(fW[1]):null;}, fU);} static New_5(){ return new this("New_5");} static New_6(fT, fU, fV){ return new this("New_6", fT, fU, fV);} constructor(fT, fU, fV, fW){ if(fT=="New_5"){ fT="New_6";fU=[];fV=q;fW=t;} if(fT=="New_6"){ const fX=fU;const fY=fV;const fZ=fW;super();this.equals=fY;this.hash=fZ;this.count=0;this.data=[];const f0=cA(fX);try { while(f0.MoveNext()){ const f1=f0.Current;this.set(f1.K, f1.V);} } finally { if(typeof f0=="object"&&a(f0))f0.Dispose();} } } });
function bJ(fR, fS){ return{k:fR, ct:fS};}
function bK(fR){ return{$:1, $0:fR};}
function bL(fR){ return{$:0, $0:fR};}
function bM(fR){ return{$:2, $0:fR};}
function bN(fR, fS){ return{c:fR, r:fS};}
let bO=fI((fR) => class fS extends c { static { bO=fR(this);} equals;hash;data;count;SAdd(fT){ return this.add(fT);} Contains(fT){ const fU=this.data[this.hash(fT)];return fU==null?false:this.arrContains(fT, fU);} add(fT){ const fU=this.hash(fT);const fV=this.data[fU];return fV==null?(this.data[fU]=[fT],this.count=this.count+1,true):this.arrContains(fT, fV)?false:(fV.push(fT),this.count=this.count+1,true);} arrContains(fT, fU){ let fV=true;let fW=0;const fX=fU.length;while(fV&&fW<fX)if(this.equals.apply(null, [fU[fW], fT]))fV=false;else fW=fW+1;return!fV;} GetEnumerator(){ return cA(eN(this.data));} ExceptWith(fT){ const fU=cA(fT);try { while(fU.MoveNext())this.Remove(fU.Current);} finally { if(typeof fU=="object"&&a(fU))fU.Dispose();} } get Count(){ return this.count;} IntersectWith(fT){ const fU=new bO("New_4", fT, this.equals, this.hash);const fV=eN(this.data);for(let fX=0, fY=fV.length-1;fX<=fY;fX++){ const fW=fV[fX];if(!fU.Contains(fW))this.Remove(fW);} } Remove(fT){ const fU=this.data[this.hash(fT)];return fU==null?false:this.arrRemove(fT, fU)&&(this.count=this.count-1,true);} CopyTo(fT, fU){ const fV=eN(this.data);for(let fW=0, fX=fV.length-1;fW<=fX;fW++)j(fT, fW+fU, fV[fW]);} arrRemove(fT, fU){ let fV=true;let fW=0;const fX=fU.length;while(fV&&fW<fX)if(this.equals.apply(null, [fU[fW], fT])){ fU.splice(fW, 1);fV=false;} else fW=fW+1;return!fV;} static New_3(){ return new this("New_3");} static New_4(fT, fU, fV){ return new this("New_4", fT, fU, fV);} static New_2(fT){ return new this("New_2", fT);} constructor(fT, fU, fV, fW){ if(fT=="New_3"){ fT="New_4";fU=[];fV=q;fW=t;} let fX;if(fT=="New_2"){ fX=fU;fT="New_4";fU=fX;fV=q;fW=t;} if(fT=="New_4"){ const fY=fU;const fZ=fV;const f0=fW;super();this.equals=fZ;this.hash=f0;this.data=[];this.count=0;const f1=cA(fY);try { while(f1.MoveNext())this.add(f1.Current);} finally { if(typeof f1=="object"&&a(f1))f1.Dispose();} } } });
function bP(fR, fS){ return{GetEnumerator:() => { const fT=cA(fR);const fU=[true];return new cE(fT, null, (fV) => { if(fV.s.MoveNext()){ fV.c=fV.s.Current;return true;} else { const fW=fV.s;if(!q(fW, null))fW.Dispose();fV.s=null;return fU[0]&&(fU[0]=false,fV.s=cA(fS),fV.s.MoveNext()?(fV.c=fV.s.Current,true):(fV.s.Dispose(),fV.s=null,false));} }, (fV) => { const fW=fV.s;if(!q(fW, null))fW.Dispose();});}};}
function bQ(fR){ const fS=cA(fR);try { return fS.MoveNext()?fS.Current:dv();} finally { if(typeof fS=="object"&&a(fS))fS.Dispose();} }
function bR(fR, fS, fT){ let fU=fS;const fV=cA(fT);try { while(fV.MoveNext())fU=fR(fU, fV.Current);return fU;} finally { if(typeof fV=="object"&&a(fV))fV.Dispose();} }
function bS(fR, fS){ const fT=cA(fS);try { while(fT.MoveNext())fR(fT.Current);} finally { if(typeof fT=="object"&&a(fT))fT.Dispose();} }
function bT(fR, fS){ return{GetEnumerator:() => { const fT=cA(fS);return new cE(null, null, (fU) => fT.MoveNext()&&(fU.c=fR(fT.Current),true), () => { fT.Dispose();});}};}
function bU(fR){ return{GetEnumerator:() => cA(fR())};}
function bV(fR, fS){ return bX(bT(fR, fS));}
function bW(fR){ const fS=cA(fR);try { if(!fS.MoveNext())bZ();let fT=fS.Current;while(fS.MoveNext()){ const fU=fS.Current;if(y(fU, fT)===1)fT=fU;} return fT;} finally { if(typeof fS=="object"&&a(fS))fS.Dispose();} }
function bX(fR){ return{GetEnumerator:() => { const fS=cA(fR);function fT(fU){ while(true){ const fV=fU.s;if(q(fV, null)){ if(fS.MoveNext()){ fU.s=cA(fS.Current);fU=fU;} else { fS.Dispose();return false;} } else if(fV.MoveNext()){ fU.c=fV.Current;return true;} else { fU.Dispose();fU.s=null;fU=fU;} } } return new cE(null, null, fT, (fU) => { const fV=fU.s;if(!q(fV, null))fV.Dispose();if(!q(fS, null))fS.Dispose();});}};}
function bY(fR, fS){ return b0(fR, b1(fS));}
function bZ(){ return e("The input sequence was empty.");}
function b0(fR, fS){ fR<0?dx():void 0;return{GetEnumerator:() => { const fT=[cA(fS)];return new cE(0, null, (fU) => { fU.s=fU.s+1;if(fU.s>fR)return false;else { const fV=fT[0];return q(fV, null)?dv():fV.MoveNext()?(fU.c=fV.Current,fU.s===fR?(fV.Dispose(),fT[0]=null):void 0,true):(fV.Dispose(),fT[0]=null,dv());} }, () => { const fU=fT[0];if(!q(fU, null))fU.Dispose();});}};}
function b1(fR){ return{GetEnumerator:() => new cE(0, null, (fS) => { fS.c=fR(fS.s);fS.s=fS.s+1;return true;}, void 0)};}
function b2(fR, fS){ return!b3((fT) =>!fR(fT), fS);}
function b3(fR, fS){ const fT=cA(fS);try { let fU=false;while(!fU&&fT.MoveNext())fU=fR(fT.Current);return fU;} finally { if(typeof fT=="object"&&a(fT))fT.Dispose();} }
function b4(fR, fS){ const fT=[];for(let fV=0, fW=fS.length-1;fV<=fW;fV++){ const fU=fR(fS[fV]);if(fU==null){ } else fT.push(fU.$0);} return fT;}
function b5(fR, fS){ let fT=null;let fU=0;while(fU<fS.length&&fT==null){ fR(fS[fU])?fT=bi(fU):void 0;fU=fU+1;} return fT;}
function b6(fR, fS){ let fT=null;let fU=0;while(fU<fS.length&&fT==null){ const fV=fR(fS[fU]);if(fV!=null&&fV.$==1)fT=fV;fU=fU+1;} return fT;}
function b7(fR, fS){ let fT=false;let fU=0;while(!fT&&fU<l(fS))if(fR(fS[fU]))fT=true;else fU=fU+1;return fT;}
function b8(fR){ return Array.prototype.concat.apply([], cb(fR));}
function b9(fR, fS){ for(let fT=0, fU=fS.length-1;fT<=fU;fT++)fR(fS[fT]);}
function b_(fR, fS, fT){ let fU=fT;const fV=fS.length;for(let fW=1, fX=fV;fW<=fX;fW++)fU=fR(fS[fV-fW], fU);return fU;}
function b$(fR, fS){ const fT=new Array(fS.length);for(let fU=0, fV=fS.length-1;fU<=fV;fU++)fT[fU]=fR(fS[fU]);return fT;}
function ca(fR, fS){ const fT=[];for(let fU=0, fV=fS.length-1;fU<=fV;fU++)if(fR(fS[fU]))fT.push(fS[fU]);return fT;}
function cb(fR){ if(fR instanceof Array)return fR.slice();else if(fR instanceof ei)return cd(fR);else { const fS=[];const fT=cA(fR);try { while(fT.MoveNext())fS.push(fT.Current);return fS;} finally { if(typeof fT=="object"&&a(fT))fT.Dispose();} } }
function cc(fR, fS){ const fT=b6(fR, fS);return fT==null?e("KeyNotFoundException"):fT.$0;}
function cd(fR){ const fS=[];let fT=fR;while(!(fT.$==0)){ fS.push(e2(fT));fT=e3(fT);} return fS;}
function ce(fR, fS){ let fT=true;let fU=0;while(fT&&fU<l(fS))if(fR(fS[fU]))fU=fU+1;else fT=false;return fT;}
function cf(fR, fS){ const fT=new Array(fR);for(let fU=0, fV=fR-1;fU<=fV;fU++)fT[fU]=fS;return fT;}
function cg(fR, fS){ if(fR<0)e("Negative size given.");else null;const fT=new Array(fR);for(let fU=0, fV=fR-1;fU<=fV;fU++)fT[fU]=fS(fU);return fT;}
let ch=fI((fR) => class fS extends c { static { ch=fR(this);} static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(fT, fU, fV){ let fW;const fX=ch.GetHolesFor(fT);const fY=(fW=null,[fX.TryGetValue(fU, {get:() => fW, set:(f0) => { fW=f0;}}), fW]);if(fY[0])return fY[1];else { const fZ=fV();fX.set_Item(fU, fZ);return fZ;} } static GetHolesFor(fT){ let fU;const fV=(fU=null,[ch.initialized.TryGetValue(fT, {get:() => fU, set:(fX) => { fU=fX;}}), fU]);if(fV[0])return fV[1];else { const fW=new bI("New_5");ch.initialized.set_Item(fT, fW);return fW;} } static { ch.initialized=new bI("New_5");ch.instances=new bI("New_5");} });
let ci=fI((fR) => { fL(u0032);return class fS extends u0032 { static { ci=fR(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return bi(this.fillWith.View);} AddAttribute(fT, fU){(fT(fU))(d7(this.fillWith));} get AsChoiceView(){ return eh(c7(String, this.fillWith.View));} constructor(fT, fU){ super();this.name=fT;this.fillWith=fU;} };});
let cj=fI((fR) => { fL(u0032);return class fS extends u0032 { static { cj=fR(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return bi(c7(String, this.fillWith.View));} AddAttribute(fT, fU){(fT(fU))(d8(this.fillWith));} get AsChoiceView(){ return eh(c7(String, this.fillWith.View));} constructor(fT, fU){ super();this.name=fT;this.fillWith=fU;} };});
let ck=fI((fR) => { fL(u0032);return class fS extends u0032 { static { ck=fR(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return bi(c7(String, this.fillWith.View));} AddAttribute(fT, fU){(fT(fU))(d9(this.fillWith));} get AsChoiceView(){ return eh(c7(String, this.fillWith.View));} constructor(fT, fU){ super();this.name=fT;this.fillWith=fU;} };});
let cl=fI((fR) => { fL(u0032);return class fS extends u0032 { static { cl=fR(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return bi(c7((fT) =>(new Date(fT)).toLocaleString(), this.fillWith.View));} AddAttribute(fT, fU){(fT(fU))(d_(this.fillWith));} get AsChoiceView(){ return eh(c7((fT) =>(new Date(fT)).toLocaleString(), this.fillWith.View));} constructor(fT, fU){ super();this.name=fT;this.fillWith=fU;} };});
let cm=fI((fR) => { fL(u0032);return class fS extends u0032 { static { cm=fR(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return bi(c7(String, this.fillWith.View));} AddAttribute(fT, fU){(fT(fU))(d$(this.fillWith));} get AsChoiceView(){ return eh(c7(String, this.fillWith.View));} constructor(fT, fU){ super();this.name=fT;this.fillWith=fU;} };});
let cn=fI((fR) => { fL(u0032);return class fS extends u0032 { static { cn=fR(this);} name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fT, fU){ super();this.name=fT;this.fillWith=fU;} };});
let co=fI((fR) => { fL(u0032);return class fS extends u0032 { static { co=fR(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return bi(c7((fT) => ej(",", fT), this.fillWith.View));} AddAttribute(fT, fU){(fT(fU))(ea(this.fillWith));} get AsChoiceView(){ return eh(c7(String, this.fillWith.View));} constructor(fT, fU){ super();this.name=fT;this.fillWith=fU;} };});
let cp=fI((fR) => class fS extends c { static { cp=fR(this);} });
function cq(fR){ let fS;const fT=fR.s;if(fT==null||(fT!=null&&fT.$==2?(fS=fT.$1,false):fT!=null&&fT.$==3?(fS=fT.$1,false):true))void 0;else { fR.s=null;for(let fV=0, fW=l(fS)-1;fV<=fW;fV++){ const fU=i(fS, fV);if(typeof fU=="object")(((fX) => { cq(fX);})(fU));else fU();} } }
let cr=fI((fR) => class fS { static { cr=fR(this);} });
function cs(fR, fS){ return fA(fR, -2147483648, 2147483647, fS);}
function ct(fR){ return{$:6, $0:fR};}
function cu(fR){ return{$:5, $0:fR};}
function cv(fR){ return{$:4, $0:fR};}
let cw=fI((fR) => class fS extends c { static { cw=fR(this);} idle;robin;Fork(fT){ this.robin.push(fT);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const fT=Date.now();let fU=true;while(fU)if(this.robin.length===0){ this.idle=true;fU=false;} else {(this.robin.shift())();Date.now()-fT>40?(setTimeout(() => { this.tick();}, 0),fU=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} });
let cx=fI((fR) => { fL(Error);return class fS extends Error { static { cx=fR(this);} reason;constructor(fT){ super("Promise rejected");this.reason=fT;} };});
let cy=fI((fR) => class fS { static { cy=fR(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=bN(false, []);this.scheduler=new cw();this.defCTS=[new c3()];this.Zero=u0038();this.GetCT=(fT) => { fT.k(bL(fT.ct));};} });
function cz(){ throw new eV("New");}
function cA(fR){ return fR instanceof Array?cB(fR):q(typeof fR, "string")?cC(fR):fR.GetEnumerator();}
function cB(fR){ return new cE(0, null, (fS) => { const fT=fS.s;return fT<l(fR)&&(fS.c=i(fR, fT),fS.s=fT+1,true);}, void 0);}
function cC(fR){ return new cE(0, null, (fS) => { const fT=fS.s;return fT<fR.length&&(fS.c=fR[fT],fS.s=fT+1,true);}, void 0);}
function cD(fR){ return fR instanceof Array?cB(fR):q(typeof fR, "string")?cC(fR):"GetEnumerator0"in fR?fR.GetEnumerator0():fR.GetEnumerator();}
let cE=fI((fR) => class fS extends c { static { cE=fR(this);} s;c;n;d;e;MoveNext(){ const fT=this.n(this);this.e=fT?1:2;return fT;} get Current(){ return this.e===1?this.c:this.e===0?e("Enumeration has not started. Call MoveNext."):e("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(fT, fU, fV, fW){ super();this.s=fT;this.c=fU;this.n=fV;this.d=fW;this.e=0;} });
let cF=fI((fR) => class fS { static { cF=fR(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new bI("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new bI("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function cG(fR, fS){ cH(fR, fS, null);}
function cH(fR, fS, fT){ while(true){ if(fS!=null&&fS.$==1)return cM(fR, fS.$0.El, fT);else if(fS!=null&&fS.$==2){ const fU=fS.$0;fU.Dirty=false;fS=fU.Current;} else if(fS==null)return fT;else if(fS!=null&&fS.$==4)return cM(fR, fS.$0.Text, fT);else if(fS!=null&&fS.$==5)return cM(fR, fS.$0, fT);else if(fS!=null&&fS.$==6)return b_((fX, fY) =>((((fZ) =>(f0) =>(f1) => f0==null||f0.constructor===Object?cH(fZ, f0, f1):cM(fZ, f0, f1))(fR))(fX))(fY), fS.$0.Els, fT);else { const fV=fS.$1;const fW=fS.$0;fS=fW;fT=cH(fR, fV, fT);} } }
function cI(fR, fS){ return ew(ex(), cN(fR, dP(), fS));}
function cJ(fR, fS, fT){ if(dz()){ const fU=null;return u0036(() => { const fV=ey(fT);const fW=cR(fS, fV);const fX=cQ(fS, fV);return u0037(dA(dB(fW, cP(fS, fV))), () => u0037(cO(fR, fS), () => u0037(dA(fX), () => { fS.PreviousNodes=fV;return u0038(null);})));});} else return cO(fR, fS);}
function cK(fR, fS, fT){ const fU=ey(fT);cS(fR, fS.Top);fS.PreviousNodes=fU;}
function cL(fR, fS){ const fT=fR.parentNode;const fU=globalThis.document.createTextNode("");fT.insertBefore(fU, fR);cV(fR, fS);return fU;}
function cM(fR, fS, fT){ dt(fR, fT, fS);return fS;}
function cN(fR, fS, fT){ cG(fR, fT);const fU=dJ(fR, fS);return c1.New(fU, fT, null, fR, bC(), fM(fU.OnAfterRender));}
function cO(fR, fS){ if(dG()){ const fT=(fU) => { requestAnimationFrame(() => { cS(fR, fS.Top);fU();});};return be((fU, fV, fW) => fT.apply(null, [fU, fV, fW]));} else { cS(fR, fS.Top);return u0038(null);} }
function cP(fR, fS){ return dE(b$((fT) => dR(fT.Attr), eC(eB(fS, eA((fT) => dQ(fT.Attr), fR.PreviousNodes)))));}
function cQ(fR, fS){ return dE(b$((fT) => dT(fT.Attr), eC(eB(fR.PreviousNodes, eA((fT) => dS(fT.Attr), fS)))));}
function cR(fR, fS){ const fT=(fV) => dU(fV.Attr);const fU=(fV) => eA(fT, fV);return dE(b$((fV) => dV(fV.Attr), eC(eD(fU(fR.PreviousNodes), fU(fS)))));}
function cS(fR, fS){!fR?cW(fS):void 0;cX(fS.Children);cY(fS);}
function cT(){ return{Text:globalThis.document.createTextNode(""), Dirty:false, Value:""};}
function cU(fR, fS){ fR.Value=fS;fR.Dirty=true;}
function cV(fR, fS){ cH(fR.parentNode, fS, fR);}
function cW(fR){ function fS(fT){ function fU(fV){ while(true){ if(fV!=null&&fV.$==0){ const fW=fV.$1;const fX=fV.$0;if(fU(fX))return true;else fV=fW;} else if(fV!=null&&fV.$==2){ const fY=fV.$0;if(fY.Dirty)return true;else fV=fY.Current;} else if(fV!=null&&fV.$==6){ const fZ=fV.$0;return fZ.Dirty||b7(fS, fZ.Holes);} else return false;} } return fU(fT.Children);} dY(fR.El, fR.Attr);if(fS(fR))cZ(fR);}
function cX(fR){ while(true){ if(fR!=null&&fR.$==1)return cS(false, fR.$0);else if(fR!=null&&fR.$==2){ const fS=fR.$0;fR=fS.Current;} else if(fR==null)return null;else if(fR!=null&&fR.$==5)return null;else if(fR!=null&&fR.$==4){ const fT=fR.$0;return fT.Dirty?(fT.Text.nodeValue=fT.Value,fT.Dirty=false):null;} else if(fR!=null&&fR.$==6){ const fU=fR.$0;b9((fX) => { cS(false, fX);}, fU.Holes);b9((fX) => { dY(fX[0], fX[1]);}, fU.Attrs);return cY(fU);} else { const fV=fR.$1;const fW=fR.$0;cX(fW);fR=fV;} } }
function cY(fR){ const fS=fM(fR.Render);if(fS!=null&&fS.$==1){ fS.$0(fR.El);fK(fR, "Render", null);} }
function cZ(fR){ const fS=fR.El;function fT(fX, fY){ while(true){ if(fX!=null&&fX.$==1)return fX.$0.El;else if(fX!=null&&fX.$==2){ const fZ=fX.$0;if(fZ.Dirty){ fZ.Dirty=false;return cH(fS, fZ.Current, fY);} else fX=fZ.Current;} else if(fX==null)return fY;else if(fX!=null&&fX.$==4)return fX.$0.Text;else if(fX!=null&&fX.$==5)return fX.$0;else if(fX!=null&&fX.$==6){ const f0=fX.$0;if(f0.Dirty)f0.Dirty=false;return b_((f3, f4) => f3==null||f3.constructor===Object?fT(f3, f4):f3, f0.Els, fY);} else { const f1=fX.$1;const f2=fX.$0;fX=f2;fY=fT(f1, fY);} } } const fU=fR.El;fv((fX) => { du(fU, fX);}, fu(fw(fR), ft(fR.El, fM(fR.Delimiters))));let fV=fR.Children;const fW=fM(fR.Delimiters);fT(fV, fW!=null&&fW.$==1?fW.$0[1]:null);}
let c0=fI((fR) => class fS { static { c0=fR(this);} static counter;static { this.counter=0;} });
let c1=fI((fR) => class fS { static { c1=fR(this);} Attr;Children;Delimiters;El;ElKey;Render;Equals(fT){ return this.ElKey===fT.ElKey;} GetHashCode(){ return this.ElKey;} static New(fT, fU, fV, fW, fX, fY){ const fZ={Attr:fT, Children:fU, El:fW, ElKey:fX};let f0=(fK(fZ, "Delimiters", fV),fK(fZ, "Render", fY),fZ);return fP(c1, f0);} });
let c2=fI((fR) => { fL(Error);return class fS extends Error { static { c2=fR(this);} ct;static New(fT){ return new this("New", fT);} static New_1(fT, fU, fV){ return new this("New_1", fT, fU, fV);} constructor(fT, fU, fV, fW){ let fX;if(fT=="New"){ fX=fU;fT="New_1";fU="The operation was canceled.";fV=null;fW=fX;} if(fT=="New_1"){ const fY=fU;const fZ=fV;const f0=fW;super(fY);this.inner=fZ;this.ct=f0;} } };});
let c3=fI((fR) => class fS extends c { static { c3=fR(this);} init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} });
let c4=fI((fR) => { fL(bB);return class fS extends bB { static { c4=fR(this);} docNode_1;updates_1;elt;rvUpdates;static TreeNode(fT, fU){ const fV=eu.Create(fU);const fW=b$((fZ) => dK(fZ[1]), fT.Attrs);let fX=er(c5(), c$, fW);let fY=c$(fX, fV.v);return new fS(ct(fT), fY, i(fT.Els, 0), fV);} constructor(fT, fU, fV, fW){ super(fT, fU);this.docNode_1=fT;this.updates_1=fU;this.elt=fV;this.rvUpdates=fW;} };});
function c5(fR){ const fS={s:bG(fR)};return() => fS;}
function c6(fR, fS){ function fT(){ F(fS(), fR, () => { bd().Fork(fT);});} bd().Fork(fT);}
function c7(fR, fS){ return da(() => G(fR, fS()));}
function c8(fR, fS, fT, fU){ return da(() => H(fR, fS(), fT(), fU()));}
function c9(fR){ return da(() => I(bT((fS) => fS(), fR)));}
function c_(fR, fS, fT){ return da(() => J(fR, fS(), fT()));}
function c$(fR, fS){ return da(() => K(fR(), fS()));}
function da(fR){ const fS={c:null, o:fR};return() => { let fT=fS.c;if(fT===null){ fT=fS.o();fS.c=fT;const fU=fT.s;if(fU!=null&&fU.$==0)fS.o=null;else M(fT, () => { fS.c=null;});return fT;} else return fT;};}
function db(fR){ let fS=null;let fT=0;const fU=fR.textContent;const fV=new RegExp(bA(), "g");while(fS=fV.exec(fU),fS!==null){ fR.parentNode.insertBefore(globalThis.document.createTextNode(dj(fU, bi(fT), bi(fV.lastIndex-i(fS, 0).length-1))), fR);fT=fV.lastIndex;const fW=globalThis.document.createElement("span");fW.setAttribute("ws-replace", i(fS, 1).toLowerCase());fR.parentNode.insertBefore(fW, fR);} fV.lastIndex=0;fR.textContent=dj(fU, bi(fT), null);}
function dc(fR){ console.warn("Instantiating non-loaded template", fR);}
function dd(fR, fS, fT){ const fU=fR.querySelector("[ws-replace]");return q(fU, null)?(console.warn("Filling non-existent text hole", fT),null):(fU.parentNode.replaceChild(globalThis.document.createTextNode(fS), fU),bi(fU.getAttribute("ws-replace")));}
function de(fR, fS){ const fT=(fU) => { bx(fR, "["+fU+"]", (fV) => { if(!fS.Contains(fV.getAttribute(fU)))fV.removeAttribute(fU);});};fT("ws-attr");fT("ws-onafterrender");fT("ws-var");bx(fR, "[ws-hole]", (fU) => { if(!fS.Contains(fU.getAttribute("ws-hole"))){ fU.removeAttribute("ws-hole");while(fU.hasChildNodes())fU.removeChild(fU.lastChild);} });bx(fR, "[ws-replace]", (fU) => { if(!fS.Contains(fU.getAttribute("ws-replace")))fU.parentNode.removeChild(fU);});bx(fR, "[ws-on]", (fU) => { fU.setAttribute("ws-on", ej(" ", ca((fV) => fS.Contains(i(ek(fV, [":"], 1), 1)), ek(fU.getAttribute("ws-on"), [" "], 1))));});bx(fR, "[ws-attr-holes]", (fU) => { const fV=ek(fU.getAttribute("ws-attr-holes"), [" "], 1);for(let fZ=0, f0=fV.length-1;fZ<=f0;fZ++){ const fW=i(fV, fZ);let fX=new RegExp(bA(), "g");let fY=fU.getAttribute(fW).replace(fX, (f1, f2) => fS.Contains(f2)?f1:"");fU.setAttribute(fW, fY);} });}
function df(fR, fS){ di(fS);const fT=fS.nodeName.toLowerCase();const fU=fR.querySelector("[ws-attr="+fT+"]");if(q(fU, null))console.warn("Filling non-existent attr hole", fT);else { fU.removeAttribute("ws-attr");for(let fW=0, fX=fS.attributes.length-1;fW<=fX;fW++){ const fV=fS.attributes.item(fW);if(fV.name=="class"&&fU.hasAttribute("class"))fU.setAttribute("class", fU.getAttribute("class")+" "+fV.nodeValue);else fU.setAttribute(fV.name, fV.nodeValue);} } }
function dg(fR, fS){ const fT=(fU) => { bx(fR, "["+fU+"]", (fV) => { let fW;const fX=(fW=null,[fS.TryGetValue(fV.getAttribute(fU).toLowerCase(), {get:() => fW, set:(fY) => { fW=fY;}}), fW]);if(fX[0])fV.setAttribute(fU, fX[1]);});};fT("ws-hole");fT("ws-replace");fT("ws-attr");fT("ws-onafterrender");fT("ws-var");bx(fR, "[ws-on]", (fU) => { fU.setAttribute("ws-on", ej(" ", b$((fV) => { let fW;const fX=ek(fV, [":"], 1);const fY=(fW=null,[fS.TryGetValue(i(fX, 1), {get:() => fW, set:(fZ) => { fW=fZ;}}), fW]);return fY[0]?i(fX, 0)+":"+fY[1]:fV;}, ek(fU.getAttribute("ws-on"), [" "], 1))));});bx(fR, "[ws-attr-holes]", (fU) => { const fV=ek(fU.getAttribute("ws-attr-holes"), [" "], 1);for(let fW=0, fX=fV.length-1;fW<=fX;fW++)((() => { const fY=i(fV, fW);return fU.setAttribute(fY, bR((fZ, f0) => { const f1=f(f0);return fZ.replace(new RegExp("\\${"+f1[0]+"}", "ig"), "${"+f1[1]+"}");}, fU.getAttribute(fY), fS));})());});}
function dh(fR, fS, fT){ while(true){ if(fR.hasChildNodes())fT=fS.insertBefore(fR.lastChild, fT);else return null;} }
function di(fR){ const fS=fR.attributes;const fT=[];const fU=[];const fV=[];for(let f0=0, f1=fS.length-1;f0<=f1;f0++){ const fW=fS.item(f0);if(el(fW.nodeName, "ws-on")&&fW.nodeName!="ws-onafterrender"&&fW.nodeName!="ws-on"){ fT.push(fW.nodeName);fU.push(dj(fW.nodeName, bi("ws-on".length), null)+":"+fW.nodeValue.toLowerCase());} else if(!el(fW.nodeName, "ws-")&&(new RegExp(bA())).test(fW.nodeValue)){ let fX=new RegExp(bA(), "g");let fY=fW.nodeValue.replace(fX, (f2, f3) =>"${"+f3.toLowerCase()+"}");fW.nodeValue=fY;fV.push(fW.nodeName);} else void 0;} if(!(fU.length==0))fR.setAttribute("ws-on", ej(" ", fU));if(!(fV.length==0))fR.setAttribute("ws-attr-holes", ej(" ", fV));const fZ=(f2) => { const f3=fR.getAttribute(f2);if(f3==null){ } else fR.setAttribute(f2, f3.toLowerCase());};fZ("ws-hole");fZ("ws-replace");fZ("ws-attr");fZ("ws-onafterrender");fZ("ws-var");b9((f2) => { fR.removeAttribute(f2);}, fT);}
function dj(fR, fS, fT){ if(fS==null){ if(fT!=null&&fT.$==1){ const fU=fT.$0;return fU<0?"":fR.slice(0, fU+1);} else return"";} else if(fT==null)return fR.slice(fS.$0);else { const fV=fT.$0;return fV<0?"":fR.slice(fS.$0, fV+1);} }
function dk(fR){ const fS=globalThis.document.createElement("div");if(!dm().test(fR)){ fS.appendChild(globalThis.document.createTextNode(fR));return fS;} else { const fT=dq().exec(fR);const fU=q(fT, null)?"":i(fT, 1).toLowerCase();const fV=(dn())[fU];const fW=fV?fV:do_1();fS.innerHTML=fW[1]+fR.replace(dp(), "<$1></$2>")+fW[2];function fX(fY, fZ){ while(true){ if(fZ===0)return fY;else { const f0=fZ;fY=fY.lastChild;fZ=f0-1;} } } return fX(fS, fW[0]);} }
function dl(fR){ const fS=[];for(let fT=0, fU=fR.childNodes.length-1;fT<=fU;fT++)fS.push(fR.childNodes[fT]);return fS;}
function dm(){ return eO.rhtml;}
function dn(){ return eO.wrapMap;}
function do_1(){ return eO.defaultWrap;}
function dp(){ return eO.rxhtmlTag;}
function dq(){ return eO.rtagName;}
function dr(fR, fS, fT){ const fU=fR.querySelectorAll(fS);for(let fV=0, fW=fU.length-1;fV<=fW;fV++)fT(fU[fV]);}
function ds(fR, fS){ const fT=globalThis.document.querySelectorAll(fR);for(let fU=0, fV=fT.length-1;fU<=fV;fU++)fS(fT[fU]);}
function dt(fR, fS, fT){ let fU;if(fT.parentNode===fR){ const fV=fT.nextSibling;let fW=q(fV, null)?null:fV;fU=fS===fW;} else fU=false;if(!fU)fR.insertBefore(fT, fS);}
function du(fR, fS){ if(fS.parentNode===fR)fR.removeChild(fS);}
function dv(){ return e("The input sequence has an insufficient number of elements.");}
function dw(fR, fS){ let fT=true;let fU=0;while(fT&&fU<l(fS))if(q(fS[fU], fR))fT=false;else fU=fU+1;return!fT;}
function dx(){ return e("The input must be non-negative.");}
let dy=fI((fR) => class fS extends c { static { dy=fR(this);} d;GetEnumerator(){ return cA(bT((fT) => fT.K, this.d));} constructor(fT){ super();this.d=fT;} });
function dz(){ return eE();}
function dA(fR){ const fS=null;return u0036(() => u0037(dC(() => { }, eF(fR)), () => { eG(fR);return u0038(null);}));}
function dB(fR, fS){ return dD(eQ(fR.$0, fS.$0));}
function dC(fR, fS){ const fT=fS.Duration;if(fT===0)return bf();else { const fU=(fV) => { function fW(fX){ return(fY) => { const fZ=fY-fX;fS.Compute(fZ);fR();return fZ<=fT?void requestAnimationFrame((f0) => {(fW(fX))(f0);}):fV();};} requestAnimationFrame((fX) => {(fW(fX))(fX);});};return be((fV, fW, fX) => fU.apply(null, [fV, fW, fX]));} }
function dD(fR){ return{$:0, $0:fR};}
function dE(fR){ return dD(eS(bT(eI, fR)));}
function dF(){ return dD(eT());}
function dG(){ return eM.BatchUpdatesEnabled;}
function dH(fR){ const fS=[0];function fT(){ const fU=null;return u0036(() => u0037(fR, () => { const fV=fS[0];return q(fV, 1)?(fS[0]=0,bf()):q(fV, 2)?(fS[0]=1,fT()):bf();}));} return() => { const fU=fS[0];if(q(fU, 0)){ fS[0]=1;u0039(fT(), null);} else q(fU, 1)?fS[0]=2:void 0;};}
function dI(fR, fS, fT, fU){ const fV={DynElem:fR, DynFlags:fS, DynNodes:fT};fK(fV, "OnAfterRender", fU);return fV;}
function dJ(fR, fS){ const fT=[];const fU=[];function fV(fY){ while(true){ if(!(fY===null)){ if(fY!=null&&fY.$==1)return fT.push(fY.$0);else if(fY!=null&&fY.$==2){ const fZ=fY.$1;const f0=fY.$0;fV(f0);fY=fZ;} else return fY!=null&&fY.$==3?fY.$0(fR):fY!=null&&fY.$==4?fU.push(fY.$0):null;} else return null;} } fV(fS);const fW=fT.slice(0);let fX=dI(fR, dM(fS), fW, fU.length===0?null:bi((fY) => { bS((fZ) => { fZ(fY);}, fU);}));return fX;}
function dK(fR){ return es((fS) => fS.NChanged, c5(), c$, fR.DynNodes);}
function dL(fR){ return dI(fR, 0, [], null);}
function dM(fR){ return fR!==null&&fR.hasOwnProperty("flags")?fR.flags:0;}
function dN(fR){ return ed.A3(fR);}
function dO(fR, fS){ return ed.A1(new eU(fR, fS));}
function dP(){ return eW.EmptyAttr;}
function dQ(fR){ const fS=2;return(fR.DynFlags&fS)===fS;}
function dR(fR){ return dX(fR, (fS, fT) => fS.NGetExitAnim(fT));}
function dS(fR){ const fS=1;return(fR.DynFlags&fS)===fS;}
function dT(fR){ return dX(fR, (fS, fT) => fS.NGetEnterAnim(fT));}
function dU(fR){ const fS=4;return(fR.DynFlags&fS)===fS;}
function dV(fR){ return dX(fR, (fS, fT) => fS.NGetChangeAnim(fT));}
function dW(fR, fS){ if(fR===null)return fS;else if(fS===null)return fR;else { const fT=ed.A2(fR, fS);dZ(fT, dM(fR)|dM(fS));return fT;} }
function dX(fR, fS){ return dE(b$((fT) => fS(fT, fR.DynElem), fR.DynNodes));}
function dY(fR, fS){ b9((fT) => { fT.NSync(fR);}, fS.DynNodes);}
function dZ(fR, fS){ fR.flags=fS;}
let d0=fI((fR) => { fL(u0032);return class fS extends u0032 { static { d0=fR(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let d1=fI((fR) => { fL(u0032);return class fS extends u0032 { static { d1=fR(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} get AsChoiceView(){ return eg(this.fillWith);} };});
let d2=fI((fR) => { fL(u0032);return class fS extends u0032 { static { d2=fR(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let d3=fI((fR) => { fL(u0032);return class fS extends u0032 { static { d3=fR(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
function d4(fR, fS){ return dN((fT) => { fT.addEventListener(fR, (fU) =>(fS(fT))(fU), false);});}
function d5(fR){ return ed.A4(fR);}
function d6(fR, fS){ return dO(fS, (fT) =>(fU) => fT.setAttribute(fR, fU));}
function d7(fR){ return eb(fl(), fR);}
function d8(fR){ return eb(fm(), fR);}
function d9(fR){ return eb(fn(), fR);}
function d_(fR){ return eb(fo(), fR);}
function d$(fR){ return eb(fp(), fR);}
function ea(fR){ return eb(fq(), fR);}
function eb(fR, fS){ const fT=fR(fS);return ed.Append(dN(fT[0]), ec(fT[1], fT[2]));}
function ec(fR, fS){ return dO(fS, fR);}
let ed=fI((fR) => class fS { static { ed=fR(this);} static Handler(fT, fU){ return ed.HandlerImpl(fT, fU);} static Concat(fT){ const fU=et(fT);return er(dP(), ed.Append, fU);} static Create(fT, fU){ return dN((fV) => { fV.setAttribute(fT, fU);});} static HandlerImpl(fT, fU){ return dN((fV) => { fV.addEventListener(fT, (fW) =>(fU(fV))(fW), false);});} static Append(fT, fU){ return dW(fT, fU);} static A4(fT){ return fP(fS, {$:4, $0:fT});} static A3(fT){ return fP(fS, {$:3, $0:fT});} static A1(fT){ return fP(fS, {$:1, $0:fT});} static A2(fT, fU){ return fP(fS, {$:2, $0:fT, $1:fU});} });
let ee=fI((fR) => { fL(u0032);return class fS extends u0032 { static { ee=fR(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let ef=fI((fR) => { fL(u0032);return class fS extends u0032 { static { ef=fR(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
function eg(fR){ return{$:0, $0:fR};}
function eh(fR){ return{$:1, $0:fR};}
let ei=fI((fR) => class fS { static { ei=fR(this);} static Cons(fT, fU){ return fP(fS, {$:1, $0:fT, $1:fU});} static Empty=fP(ei, {$:0});GetEnumerator(){ return new cE(this, null, (fT) => { const fU=fT.s;return fU.$==0?false:(fT.c=fU.$0,fT.s=fU.$1,true);}, void 0);} });
function ej(fR, fS){ return cb(fS).join(fR);}
function ek(fR, fS, fT){ return em(fR, new RegExp("["+en(fS.join(""))+"]"), fT);}
function el(fR, fS){ return fR.substring(0, fS.length)==fS;}
function em(fR, fS, fT){ return fT===1?ca((fU) => fU!=="", eo(fR, fS)):eo(fR, fS);}
function en(fR){ return fR.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function eo(fR, fS){ return fR.split(fS);}
function ep(fR, fS){ return b2(fR, eq(fS));}
function eq(fR){ return fR==null?"":fR;}
function er(fR, fS, fT){ const fU=l(fT);function fV(fW){ return(fX) => { let fY;switch(fX<=0?0:fX===1?fW>=0&&fW<fU?1:(fY=fX,2):(fY=fX,2)){ case 0:return fR;case 1:return i(fT, fW);case 2:const fZ=fX/2>>0;return fS((fV(fW))(fZ), (fV(fW+fZ))(fX-fZ));} };} return(fV(0))(fU);}
function es(fR, fS, fT, fU){ const fV=l(fU);function fW(fX){ return(fY) => { let fZ;switch(fY<=0?0:fY===1?fX>=0&&fX<fV?1:(fZ=fY,2):(fZ=fY,2)){ case 0:return fS;case 1:return fR(i(fU, fX));case 2:const f0=fY/2>>0;return fT((fW(fX))(f0), (fW(fX+f0))(fY-f0));} };} return(fW(0))(fV);}
function et(fR){ if(fR instanceof Array)return fR;else if(fR instanceof ei)return cd(fR);else if(fR===null)return[];else { const fS=[];const fT=cA(fR);try { while(fT.MoveNext())fS.push(fT.Current);return fS;} finally { if(typeof fT=="object"&&a(fT))fT.Dispose();} } }
let eu=fI((fR) => class fS { static { eu=fR(this);} c;s;v;static Create(fT){ let fU;fU=null;fU=eu.New(fT, null, () => { let fV;fV=fU.s;return fV===null?(fV=L(fU.c()),fU.s=fV,M(fV, () => { fU.s=null;}),fV):fV;});return fU;} static New(fT, fU, fV){ return fP(eu, {c:fT, s:fU, v:fV});} });
let ev=fI((fR) => class fS extends c { static { ev=fR(this);} d;GetEnumerator(){ return cA(bT((fT) => fT.V, this.d));} constructor(fT){ super();this.d=fT;} });
function ew(fR, fS){ return{PreviousNodes:fR, Top:fS};}
function ex(){ return ez(new bO("New_3"));}
function ey(fR){ const fS=[];function fT(fW, fX){ while(true)switch(fW){ case 0:if(fX!=null&&fX.$==0){ const fY=fX.$1;const fZ=fX.$0;fT(0, fZ);fX=fY;} else if(fX!=null&&fX.$==1){ const f0=fX.$0;fX=f0;fW=1;} else if(fX!=null&&fX.$==2){ const f1=fX.$0;fX=f1.Current;} else if(fX!=null&&fX.$==6){ const f2=fX.$0.Holes;return(((f3) =>(f4) => { b9(f3, f4);})(fV))(f2);} else return null;break;case 1:fS.push(fX);fX=fX.Children;fW=0;break;} } function fU(fW){ return fT(0, fW);} function fV(fW){ return fT(1, fW);} fU(fR);return ez(new bO("New_2", fS));}
function ez(fR){ return{$:0, $0:fR};}
function eA(fR, fS){ return ez(eY(fR, fS.$0));}
function eB(fR, fS){ return ez(eZ(fR.$0, fS.$0));}
function eC(fR){ return e0(fR.$0);}
function eD(fR, fS){ return ez(e1(fR.$0, fS.$0));}
function eE(){ return eP.UseAnimations;}
function eF(fR){ return eH(b4((fS) => fS.$==1?bi(fS.$0):null, eR(fR.$0)));}
function eG(fR){ b9((fS) => { if(fS.$==0)fS.$0();}, eR(fR.$0));}
function eH(fR){ const fS=et(fR);const fT=l(fS);if(fT===0)return eJ();else if(fT===1)return i(fS, 0);else { const fU=bW(bT((fW) => fW.Duration, fS));const fV=b$((fW) => eL(fU, fW), fS);return eK(fU, (fW) => { b9((fX) => { fX.Compute(fW);}, fV);});} }
function eI(fR){ return fR.$0;}
function eJ(fR){ return eK(0, () => fR);}
function eK(fR, fS){ return{Compute:fS, Duration:fR};}
function eL(fR, fS){ const fT=fS.Compute;const fU=fS.Duration;const fV=fB(() => fS.Compute(fS.Duration));return{Compute:(fW) => fW>=fU?fV.f():fT(fW), Duration:fR};}
let eM=fI((fR) => class fS { static { eM=fR(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function eN(fR){ let fS=[];let fT;for(var fU in fR)fS.push.apply(fS, fR[fU]);return fS;}
let eO=fI((fR) => class fS { static { eO=fR(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const fT=[1, "<table>", "</table>"];let fU=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", fT], ["tbody", fT], ["tfoot", fT], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=fU;this.defaultWrap=[0, "", ""];} });
let eP=fI((fR) => class fS { static { eP=fR(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=eX.Custom((fT) => { const fU=fT*fT;return 3*fU-2*(fU*fT);});this.UseAnimations=true;} });
function eQ(fR, fS){ return fR.$==0?fS:fS.$==0?fR:{$:2, $0:fR, $1:fS};}
function eR(fR){ const fS=[];function fT(fU){ while(true){ if(fU.$==1)return fS.push(fU.$0);else if(fU.$==2){ const fV=fU.$1;const fW=fU.$0;fT(fW);fU=fV;} else return fU.$==3?b9((fX) => { fS.push(fX);}, fU.$0):null;} } fT(fR);return fS.slice(0);}
function eS(fR){ const fS=et(fR);return er(eT(), eQ, fS);}
function eT(){ return fE.Empty;}
let eU=fI((fR) => class fS extends c { static { eU=fR(this);} push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(fT){ return dF();} NGetEnterAnim(fT){ return dF();} NGetChangeAnim(fT){ return dF();} NSync(fT){ if(this.dirty){(this.push(fT))(this.value);this.dirty=false;} } constructor(fT, fU){ super();this.push=fU;this.value=void 0;this.dirty=false;this.updates=c7((fV) => { this.value=fV;this.dirty=true;}, fT);} });
let eV=fI((fR) => { fL(Error);return class fS extends Error { static { eV=fR(this);} static New(){ return new this("New");} static New_1(fT){ return new this("New_1", fT);} constructor(fT, fU){ if(fT=="New"){ fT="New_1";fU="The given key was not present in the dictionary.";} if(fT=="New_1"){ const fV=fU;super(fV);} } };});
let eW=fI((fR) => class fS { static { eW=fR(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(f9) =>[(f_) => { f_.addEventListener("change", () => f9.Get()!=f_.checked?f9.Set(f_.checked):null);}, (f_) =>(f$) => f$!=null&&f$.$==1?void(f_.checked=f$.$0):null, c7(bi, f9.View)];this.StringSet=(f9) =>(f_) => { f9.value=f_;};this.StringGet=(f9) => bi(f9.value);const fT=e7();const fU=e6();this.StringApply=(f9) => e5(fT, fU, f9);this.StringListSet=(f9) =>(f_) => { const f$=f9.options;for(let ga=0, gb=f$.length-1;ga<=gb;ga++)((() => { const gc=f$.item(ga);gc.selected=dw(gc.value, f_);})());};this.StringListGet=(f9) => { const f_=f9.selectedOptions;return bi(cb(bU(() => bV((f$) =>[f_.item(f$).value], g(0, f_.length-1)))));};const fV=e9();const fW=e8();this.StringListApply=(f9) => e5(fV, fW, f9);this.DateTimeSetUnchecked=(f9) =>(f_) => { f9.value=(new Date(f_)).toLocaleString();};this.DateTimeGetUnchecked=(f9) => { let f_;let f$;const ga=f9.value;if(fr(ga))return bi(-8640000000000000);else { f_=0;const gb=fz(ga);let gc=gb!=null&&gb.$==1&&(f_=gb.$0,true);f$=[gc, f_];return f$[0]?bi(f$[1]):null;} };const fX=e$();const fY=e_();this.DateTimeApplyUnchecked=(f9) => e5(fX, fY, f9);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(f9) => { const f_=f9.files;return bi(cb(bU(() => bT((f$) => f_.item(f$), g(0, f_.length-1)))));};const fZ=fc();const f0=fb();this.FileApplyUnchecked=(f9) => fa(fZ, f0, f9);this.IntSetUnchecked=(f9) =>(f_) => { f9.value=String(f_);};this.IntGetUnchecked=(f9) => { const f_=f9.value;if(fr(f_))return bi(0);else { const f$=+f_;return f$!==f$>>0?null:bi(f$);} };const f1=fe();const f2=fd();this.IntApplyUnchecked=(f9) => e5(f1, f2, f9);this.IntSetChecked=(f9) =>(f_) => { const f$=f_.Input;return f9.value!=f$?void(f9.value=f$):null;};this.IntGetChecked=(f9) => { let f_;let f$;const ga=f9.value;if(fr(ga))f_=(f9.checkValidity?f9.checkValidity():true)?fs.Blank(ga):fs.Invalid(ga);else { const gb=(f$=0,[cs(ga, {get:() => f$, set:(gc) => { f$=gc;}}), f$]);f_=gb[0]?fs.Valid(gb[1], ga):fs.Invalid(ga);} return bi(f_);};const f3=fg();const f4=ff();this.IntApplyChecked=(f9) => e5(f3, f4, f9);this.FloatSetUnchecked=(f9) =>(f_) => { f9.value=String(f_);};this.FloatGetUnchecked=(f9) => { const f_=f9.value;if(fr(f_))return bi(0);else { const f$=+f_;return isNaN(f$)?null:bi(f$);} };const f5=fi();const f6=fh();this.FloatApplyUnchecked=(f9) => e5(f5, f6, f9);this.FloatSetChecked=(f9) =>(f_) => { const f$=f_.Input;return f9.value!=f$?void(f9.value=f$):null;};this.FloatGetChecked=(f9) => { let f_;const f$=f9.value;if(fr(f$))f_=(f9.checkValidity?f9.checkValidity():true)?fs.Blank(f$):fs.Invalid(f$);else { const ga=+f$;f_=isNaN(ga)?fs.Invalid(f$):fs.Valid(ga, f$);} return bi(f_);};const f7=fk();const f8=fj();this.FloatApplyChecked=(f9) => e5(f7, f8, f9);} });
let eX=fI((fR) => class fS extends c { static { eX=fR(this);} transformTime;static Custom(fT){ return new fS(fT);} constructor(fT){ super();this.transformTime=fT;} });
function eY(fR, fS){ return new bO("New_2", ca(fR, e0(fS)));}
function eZ(fR, fS){ const fT=new bO("New_2", e0(fS));fT.ExceptWith(e0(fR));return fT;}
function e0(fR){ const fS=cf(fR.Count, void 0);fR.CopyTo(fS, 0);return fS;}
function e1(fR, fS){ const fT=new bO("New_2", e0(fR));fT.IntersectWith(e0(fS));return fT;}
function e2(fR){ return fR.$==1?fR.$0:e4();}
function e3(fR){ return fR.$==1?fR.$1:e4();}
function e4(){ return e("The input list was empty.");}
function e5(fR, fS, fT){ let fU;fU=null;return[(fV) => { const fW=() => { fT.UpdateMaybe((fX) => { let fY;fU=fR(fV);return fU!=null&&fU.$==1&&(!q(fU.$0, fX)&&(fY=[fU, fU.$0],true))?fY[0]:null;});};fV.addEventListener("change", fW);fV.addEventListener("input", fW);fV.addEventListener("keypress", fW);}, (fV) => { const fW=fS(fV);return(fX) => fX==null?null:fW(fX.$0);}, c7((fV) => { let fW;return fU!=null&&fU.$==1&&(q(fU.$0, fV)&&(fW=fU.$0,true))?null:bi(fV);}, fT.View)];}
function e6(){ return eW.StringSet;}
function e7(){ return eW.StringGet;}
function e8(){ return eW.StringListSet;}
function e9(){ return eW.StringListGet;}
function e_(){ return eW.DateTimeSetUnchecked;}
function e$(){ return eW.DateTimeGetUnchecked;}
function fa(fR, fS, fT){ let fU;fU=null;return[(fV) => { fV.addEventListener("change", () => { fT.UpdateMaybe((fW) => { let fX;fU=fR(fV);return fU!=null&&fU.$==1&&(fU.$0!==fW&&(fX=[fU, fU.$0],true))?fX[0]:null;});});}, (fV) => { const fW=fS(fV);return(fX) => fX==null?null:fW(fX.$0);}, c7((fV) => { let fW;return fU!=null&&fU.$==1&&(q(fU.$0, fV)&&(fW=fU.$0,true))?null:bi(fV);}, fT.View)];}
function fb(){ return eW.FileSetUnchecked;}
function fc(){ return eW.FileGetUnchecked;}
function fd(){ return eW.IntSetUnchecked;}
function fe(){ return eW.IntGetUnchecked;}
function ff(){ return eW.IntSetChecked;}
function fg(){ return eW.IntGetChecked;}
function fh(){ return eW.FloatSetUnchecked;}
function fi(){ return eW.FloatGetUnchecked;}
function fj(){ return eW.FloatSetChecked;}
function fk(){ return eW.FloatGetChecked;}
function fl(){ return eW.StringApply;}
function fm(){ return eW.FloatApplyUnchecked;}
function fn(){ return eW.BoolCheckedApply;}
function fo(){ return eW.DateTimeApplyUnchecked;}
function fp(){ return eW.FileApplyUnchecked;}
function fq(){ return eW.StringListApply;}
function fr(fR){ return ep(fy, fR);}
let fs=fI((fR) => class fS { static { fs=fR(this);} get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(fT){ return fP(fS, {$:2, $0:fT});} static Invalid(fT){ return fP(fS, {$:1, $0:fT});} static Valid(fT, fU){ return fP(fS, {$:0, $0:fT, $1:fU});} });
function ft(fR, fS){ let fT;if(fS!=null&&fS.$==1){ const fU=[];fT=fS.$0[0].nextSibling;while(fT!==fS.$0[1]){ fU.push(fT);fT=fT.nextSibling;} return fx(fU);} else { let fV=fR.childNodes.length;const fW=fR.childNodes;let fX=cg(fV, (fY) => fW[fY]);return fx(fX);} }
function fu(fR, fS){ const fT=fR.$0;return fx(ca((fU) => ce((fV) =>!(fU===fV), fT), fS.$0));}
function fv(fR, fS){ b9(fR, fS.$0);}
function fw(fR){ const fS=[];function fT(fU){ while(true){ if(fU!=null&&fU.$==2){ const fV=fU.$0;fU=fV.Current;} else if(fU!=null&&fU.$==1)return fS.push(fU.$0.El);else if(fU==null)return null;else if(fU!=null&&fU.$==5)return fS.push(fU.$0);else if(fU!=null&&fU.$==4)return fS.push(fU.$0.Text);else if(fU!=null&&fU.$==6){ const fW=fU.$0.Els;return(((fZ) =>(f0) => { b9(fZ, f0);})((fZ) => { if(fZ==null||fZ.constructor===Object)fT(fZ);else fS.push(fZ);}))(fW);} else { const fX=fU.$1;const fY=fU.$0;fT(fY);fU=fX;} } } fT(fR.Children);return fx(et(fS));}
function fx(fR){ return{$:0, $0:fR};}
function fy(fR){ return fR.match(new RegExp("\\s"))!==null;}
function fz(fR){ const fS=Date.parse(fR);return isNaN(fS)?null:bi(fS);}
function fA(fR, fS, fT, fU){ const fV=+fR;const fW=fV===fV-fV%1&&fV>=fS&&fV<=fT;if(fW)fU.set(fV);return fW;}
function fB(fR){ return fG(false, fR, fC);}
function fC(){ const fR=this.v();this.c=true;this.v=fR;this.f=fD;return fR;}
function fD(){ return this.v;}
let fE=fI((fR) => class fS { static { fE=fR(this);} static Empty;static { this.Empty={$:0};} });
function fF(fR){ fR.splice(0, l(fR));}
function fG(fR, fS, fT){ return{c:fR, v:fS, f:fT};}
fQ(() => { b();});
fH();

